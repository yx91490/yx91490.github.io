(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{604:function(e,t,a){"use strict";a.r(t);var l=a(10),_=Object(l.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"locale笔记"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#locale笔记"}},[e._v("$")]),e._v(" Locale笔记")]),e._v(" "),t("h2",{attrs:{id:"locale"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#locale"}},[e._v("$")]),e._v(" locale")]),e._v(" "),t("p",[e._v("在Linux中使用locale命令来设置和显示程序运行的语言环境。locale会根据计算机用户所使用的语言，所在国家或者地区，以及当地的文化传统定义一个软件运行时的语言环境。")]),e._v(" "),t("p",[e._v("locale设置规则：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# <语言>_<地区>.<字符集编码><@修正值>\n#\n# de：表示德语\n# DE：表示德国\n# Utf-8：表示字符集\n# euro：表示按照欧洲习惯加以修正\nde_DE.utf-8@euro\n")])])]),t("p",[e._v("C是系统默认的locale，POSIX是C的别名。")]),e._v(" "),t("p",[e._v("设置locale的根本就是设置一组总共12个LC开头的变量（不包括LANG和LC_ALL）：")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("变量")]),e._v(" "),t("th",[e._v("说明")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("LC_ADDRESS")]),e._v(" "),t("td",[e._v("地址书写方式")])]),e._v(" "),t("tr",[t("td",[e._v("LC_COLLATE")]),e._v(" "),t("td",[e._v("用于比较和排序")])]),e._v(" "),t("tr",[t("td",[e._v("LC_CTYPE")]),e._v(" "),t("td",[e._v("用于字符分类和字符串处理，控制所有字符的处理方式，包括字符编码，字符是单字节还是多字节，如何打印等，非常重要的一个变量。")])]),e._v(" "),t("tr",[t("td",[e._v("LC_IDENTIFICATION")]),e._v(" "),t("td",[e._v("locale对自身包含信息的概述")])]),e._v(" "),t("tr",[t("td",[e._v("LC_MEASUREMENT")]),e._v(" "),t("td",[e._v("度量衡表达方式")])]),e._v(" "),t("tr",[t("td",[e._v("LC_MESSAGES")]),e._v(" "),t("td",[e._v("用于控制程序输出时所使用的语言，主要是提示信息，错误信息，状态信息，标题，标签，按钮和菜单等")])]),e._v(" "),t("tr",[t("td",[e._v("LC_MONETARY")]),e._v(" "),t("td",[e._v("用于格式化货币单位")])]),e._v(" "),t("tr",[t("td",[e._v("LC_PAPER")]),e._v(" "),t("td",[e._v("默认纸张尺寸大小")])]),e._v(" "),t("tr",[t("td",[e._v("LC_TELEPHONE")]),e._v(" "),t("td",[e._v("电话号码书写方式")])]),e._v(" "),t("tr",[t("td",[e._v("LC_TIME")]),e._v(" "),t("td",[e._v("用于格式化时间和日期")])]),e._v(" "),t("tr",[t("td",[e._v("LC_NAME")]),e._v(" "),t("td",[e._v("姓名书写方式")])]),e._v(" "),t("tr",[t("td",[e._v("LC_NUMERIC")]),e._v(" "),t("td",[e._v("用于格式化非货币的数字显示")])])])]),e._v(" "),t("p",[e._v("优先级：")]),e._v(" "),t("ol",[t("li",[t("code",[e._v("LANGUAGE")])]),e._v(" "),t("li",[t("code",[e._v("LC_ALL")])]),e._v(" "),t("li",[t("code",[e._v("LC_xxx")])]),e._v(" "),t("li",[t("code",[e._v("LANG")])])]),e._v(" "),t("p",[e._v("相关命令：")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 显示正在使用的 Locale 和相关的环境变量：")]),e._v("\nlocale\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 查看当前系统所有可用locale")]),e._v("\nlocale "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-a")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 查看已经生成的区域设置：")]),e._v("\nlocaledef --list-archive\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 或：")]),e._v("\nlocalectl list-locales\n")])])]),t("p",[e._v("设置整个系统使用的区域设置，需要在 /etc/locale.conf 中写入 LANG 变量。")]),e._v(" "),t("h2",{attrs:{id:"localedef"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#localedef"}},[e._v("$")]),e._v(" localedef")]),e._v(" "),t("p",[e._v("localedef 是用来生成 locale 的工具。localedef 能够读取 locale 定义文件（一般位于"),t("code",[e._v("/usr/share/i18n")]),e._v("，可通过 "),t("code",[e._v("localedef --help")]),e._v(" 命令查看），以及 charmap 文件（一般位于"),t("code",[e._v("/usr/share/i18n/charmaps")]),e._v("，可通过"),t("code",[e._v("localedef --help")]),e._v("命令查看），然后编译并将编译好的二进制的 locale 数据库放在 "),t("code",[e._v("/usr/lib/locale")]),e._v(" 目录里，这样Linux 系统中使用到 locale 的程序就能够找到并使用这些 locale。")]),e._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("$")]),e._v(" 参考")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1671446",target:"_blank",rel:"noopener noreferrer"}},[e._v("linux下设置locale"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://steemit.com/linux/@cifer/linux-locale",target:"_blank",rel:"noopener noreferrer"}},[e._v("Linux 下的 locale 机制"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://www.gnu.org/software/gettext/manual/html_node/Locale-Environment-Variables.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("2.3.2 Locale Environment Variables"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://access.redhat.com/solutions/974273",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to change system locale on RHEL7?"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=_.exports}}]);