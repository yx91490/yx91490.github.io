(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{587:function(t,e,n){"use strict";n.r(e);var r=n(18),s=Object(r.a)({},(function(){var t=this._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[t("h1",{attrs:{id:"资源关闭测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#资源关闭测试"}},[this._v("$")]),this._v(" 资源关闭测试")]),this._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[this._v('import org.apache.commons.io.IOUtils;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class Demo {\n    public static void main(String[] args) {\n        Demo demo = new Demo();\n        demo.read();\n        try {\n            System.in.read();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void read() {\n        try {\n            File inFile = new File("/tmp/process.out");\n            ProcessBuilder processBuilder = new ProcessBuilder("echo", "abcdefg");\n            processBuilder.redirectInput(inFile);\n            Process process = processBuilder.start();\n            int i = process.waitFor();\n            System.out.println("exit: " + i);\n            try (FileInputStream fileInputStream = new FileInputStream(inFile);){\n                String str = IOUtils.toString(fileInputStream);\n                System.out.println("output:" + str);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\nuser@XPS13:/tmp$ lsof process.out \nCOMMAND   PID USER   FD   TYPE DEVICE SIZE/OFF    NODE NAME\njava    21128 user   18r   REG  259,6        7 1049290 process.out\nuser@XPS13:/tmp$ jps -m\n21128 Demo\n\n\n\n\ninputStream  : java.lang.UNIXProcess$ProcessPipeInputStream@31c9b6eb(ByteArrayInputStream)\n\noutputStream  : java.lang.ProcessBuilder$NullOutputStream@33c3d029\n\nerrorStream  : java.lang.UNIXProcess$ProcessPipeInputStream@7c974e4b(java.lang.ProcessBuilder$NullInputStream)\n')])])])])}),[],!1,null,null,null);e.default=s.exports}}]);