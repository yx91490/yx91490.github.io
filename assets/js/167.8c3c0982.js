(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{578:function(e,a,s){"use strict";s.r(a);var t=s(10),r=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"发布jar包到maven中央仓库指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布jar包到maven中央仓库指南"}},[e._v("$")]),e._v(" 发布Jar包到Maven中央仓库指南")]),e._v(" "),a("h3",{attrs:{id:"pom-xml配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pom-xml配置"}},[e._v("$")]),e._v(" pom.xml配置")]),e._v(" "),a("p",[e._v("在工程的pom.xml文件中，引入"),a("code",[e._v("oss-parent")]),e._v("：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<parent>\n\t<groupId>org.sonatype.oss</groupId>\n\t<artifactId>oss-parent</artifactId>\n\t<version>7</version>\n</parent>\n")])])]),a("p",[e._v("增加Licenses、SCM、Developers信息：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<licenses>\n\t<license>\n\t\t<name>The Apache Software License, Version 2.0</name>\n\t\t<url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>\n\t</license>\n</licenses>\n<scm>\n\t<url>git@github.com:google/cli-maven-plugin.git</url>\n\t<connection>scm:git:git@github.com:google/cli-maven-plugin.git</connection>\n</scm>\n<developers>\n\t<developer>\n\t\t<name>user123</name>\n\t\t<email>user123@gmail.com</email>\n\t</developer>\n</developers>\n")])])]),a("h3",{attrs:{id:"注册sonatype账号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注册sonatype账号"}},[e._v("$")]),e._v(" 注册SonaType账号")]),e._v(" "),a("p",[e._v("https://issues.sonatype.org/secure/Signup!default.jspa")]),e._v(" "),a("h3",{attrs:{id:"修改maven配置文件setting-xml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改maven配置文件setting-xml"}},[e._v("$")]),e._v(" 修改maven配置文件setting.xml")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<servers>\n    <server>\n      <id>sonatype-nexus-snapshots</id>\n      <username>Sonatype账号</username>\n      <password>Sonatype密码</password>\n    </server>\n    <server>\n      <id>sonatype-nexus-staging</id>\n      <username>Sonatype账号</username>\n      <password>Sonatype密码</password>\n    </server>\n  </servers>\n")])])]),a("h3",{attrs:{id:"创建issue工单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建issue工单"}},[e._v("$")]),e._v(" 创建Issue工单")]),e._v(" "),a("p",[e._v("https://issues.sonatype.org/secure/Dashboard.jspa")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Project: Community Support - Open Source Project Repository Hosting\nIssue Type: New Project\n\nSummary: marathon-client\nGroup Id: io.github.google\nProject URL: https://github.com/google/cli-maven-plugin\nSCM url: https://github.com/google/cli-maven-plugin.git\n")])])]),a("h3",{attrs:{id:"确认域名归属"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#确认域名归属"}},[e._v("$")]),e._v(" 确认域名归属")]),e._v(" "),a("blockquote",[a("p",[e._v("create a public repo called ["),a("s",[e._v("OSSRH-50621")]),e._v("] to verify github account ownership.")])]),e._v(" "),a("h3",{attrs:{id:"配置gpg-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置gpg-key"}},[e._v("$")]),e._v(" 配置gpg-key")]),e._v(" "),a("p",[e._v("生成key（需要填写用户名、邮箱等信息，其中填写的Passphase需要记住）：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" $ gpg --gen-key\n")])])]),a("p",[e._v("列出公钥信息（其中"),a("code",[e._v("824B4D7A")]),e._v("为公钥）：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ gpg --list-keys\n---------------------------------------------\npub   2048R/824B4D7A 2016-01-06\nuid       [ultimate] user123 <user123@gmail.com>\nsub   2048R/7A10AD69 2016-01-06\n")])])]),a("p",[e._v("或者这种形式（其中"),a("code",[e._v("F88223C1F1461D8A5D6296A55EE3D769D3501C8D")]),e._v("为公钥）：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ gpg --list-keys\n----------------------------\npub   rsa2048 2020-01-31 [SC] [expires: 2022-01-30]\n      F88223C1F1461D8A5D6296A55EE3D769D3501C8D\nuid           [ultimate] user123 <user123@gmail.com>\nsub   rsa2048 2020-01-31 [E] [expires: 2022-01-30]\n")])])]),a("p",[e._v("上传公钥至密钥服务器：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ gpg --keyserver hkp://pgp.mit.edu --send-keys 824B4D7A\n")])])]),a("p",[e._v("验证是否成功：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ gpg --keyserver hkp://pgp.mit.edu --recv-keys 824B4D7A\n")])])]),a("p",[e._v("验证成功：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('gpg: key 3D869D3: "user123 <user123@gmail.com>" not changed\ngpg: Total number processed: 1\ngpg:              unchanged: 1\n')])])]),a("h3",{attrs:{id:"部署-jar-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署-jar-包"}},[e._v("$")]),e._v(" 部署 jar 包")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# 需要输入gpg的Passphase\nmvn clean deploy -P sonatype-oss-release\n")])])]),a("p",[e._v("如果提示"),a("code",[e._v("gpg: 签名时失败： Inappropriate ioctl for device")]),e._v("，请参考https://www.unclewang.info/tips/410/进行操作。")]),e._v(" "),a("h3",{attrs:{id:"仓库操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#仓库操作"}},[e._v("$")]),e._v(" 仓库操作")]),e._v(" "),a("ol",[a("li",[e._v("登录https://oss.sonatype.org")]),e._v(" "),a("li",[e._v("点击左侧的"),a("code",[e._v("Staging Repositories")])]),e._v(" "),a("li",[e._v("搜索上传的jar包")]),e._v(" "),a("li",[e._v("勾选文件点击close按钮")]),e._v(" "),a("li",[e._v("状态变成closed后，勾选文件点击Release按钮")])]),e._v(" "),a("h3",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("$")]),e._v(" 参考")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://central.sonatype.org/pages/ossrh-guide.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("OSSRH Guide"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://colobu.com/2014/09/30/deploy-a-project-to-maven-central",target:"_blank",rel:"noopener noreferrer"}},[e._v("发布开源项目到Maven Central"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://monkeywie.github.io/2018/07/23/publish-jar-to-maven/",target:"_blank",rel:"noopener noreferrer"}},[e._v("发布jar包到maven中央仓库"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://issues.sonatype.org/browse/OSSRH-50621",target:"_blank",rel:"noopener noreferrer"}},[e._v("request for hosting cli-maven-plugin project"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);