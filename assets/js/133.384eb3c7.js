(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{554:function(v,_,t){"use strict";t.r(_);var e=t(10),r=Object(e.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"java并发集合框架"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#java并发集合框架"}},[v._v("$")]),v._v(" Java并发集合框架")]),v._v(" "),_("h2",{attrs:{id:"队列"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#队列"}},[v._v("$")]),v._v(" 队列")]),v._v(" "),_("h3",{attrs:{id:"queue接口"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#queue接口"}},[v._v("$")]),v._v(" Queue接口")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th"),v._v(" "),_("th",[v._v("抛出异常")]),v._v(" "),_("th",[v._v("返回特定值")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[v._v("插入")]),v._v(" "),_("td",[v._v("add(e)")]),v._v(" "),_("td",[v._v("offer(e)")])]),v._v(" "),_("tr",[_("td",[v._v("删除")]),v._v(" "),_("td",[v._v("remove()")]),v._v(" "),_("td",[v._v("poll()")])]),v._v(" "),_("tr",[_("td",[v._v("检查")]),v._v(" "),_("td",[v._v("element()")]),v._v(" "),_("td",[v._v("peek()")])])])]),v._v(" "),_("h3",{attrs:{id:"blockingqueue接口"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#blockingqueue接口"}},[v._v("$")]),v._v(" BlockingQueue接口")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th"),v._v(" "),_("th",[v._v("抛出异常")]),v._v(" "),_("th",[v._v("返回特定值")]),v._v(" "),_("th",[v._v("阻塞")]),v._v(" "),_("th",[v._v("超时")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[v._v("插入")]),v._v(" "),_("td",[v._v("add(e)")]),v._v(" "),_("td",[v._v("offer(e)")]),v._v(" "),_("td",[v._v("put(e)")]),v._v(" "),_("td",[v._v("offer(e, time, unit)")])]),v._v(" "),_("tr",[_("td",[v._v("删除")]),v._v(" "),_("td",[v._v("remove()")]),v._v(" "),_("td",[v._v("poll()")]),v._v(" "),_("td",[v._v("take()")]),v._v(" "),_("td",[v._v("poll(time, unit)")])]),v._v(" "),_("tr",[_("td",[v._v("检查")]),v._v(" "),_("td",[v._v("element()")]),v._v(" "),_("td",[v._v("peek()")]),v._v(" "),_("td",[v._v("/")]),v._v(" "),_("td",[v._v("/")])])])]),v._v(" "),_("p",[v._v("当阻塞队列不可用时，会有四种相应的处理方式：")]),v._v(" "),_("ul",[_("li",[v._v("返回特殊值：插入元素时，会返回是否插入成功，成功返回true。如果是移除方法，则是从队列中取出一个元素，没有则返回null。")]),v._v(" "),_("li",[v._v("一直阻塞：当阻塞队列满时，如果生产者线程往队列里面 put 元素，则生产者线程会被阻塞，知道队列不满或者响应中断退出。当队列为空时，如果消费者线程从队列里 take 元素。")]),v._v(" "),_("li",[v._v("超时退出：当阻塞队列满时，如果生产者线程往队列里插入元素，队列会阻塞生产者线程一段时间，如果超过了指定时间，生产者线程就会退出。")])]),v._v(" "),_("p",[v._v("如果是无界阻塞队列，队列则不会出现满的情况。")]),v._v(" "),_("p",[v._v("JDK7提供了7个阻塞队列。分别是")]),v._v(" "),_("ul",[_("li",[v._v("ArrayBlockingQueue ：一个由数组结构组成的有界阻塞队列。")]),v._v(" "),_("li",[v._v("LinkedBlockingQueue ：一个由链表结构组成的有界阻塞队列。")]),v._v(" "),_("li",[v._v("PriorityBlockingQueue ：一个支持优先级排序的无界阻塞队列。")]),v._v(" "),_("li",[v._v("DelayQueue：一个使用优先级队列实现的无界阻塞队列。")]),v._v(" "),_("li",[v._v("SynchronousQueue：一个不存储元素的阻塞队列。")]),v._v(" "),_("li",[v._v("LinkedTransferQueue：一个由链表结构组成的无界阻塞队列。")]),v._v(" "),_("li",[v._v("LinkedBlockingDeque：一个由链表结构组成的双向阻塞队列。")])]),v._v(" "),_("p",[v._v("所谓"),_("strong",[v._v("公平访问队列")]),v._v("是指阻塞的所有生产者线程或消费者线程，当队列可用时，可以按照阻塞的先后顺序访问队列，"),_("strong",[v._v("即先阻塞的生产者线程，可以先往队列里插入元素，先阻塞的消费者线程，可以先从队列里获取元素")]),v._v("。")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[v._v("类")]),v._v(" "),_("th",[v._v("名称")]),v._v(" "),_("th",[v._v("界限")]),v._v(" "),_("th",[v._v("特性")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[v._v("ArrayBlockingQueue")]),v._v(" "),_("td",[v._v("基于数组的并发阻塞队列")]),v._v(" "),_("td",[v._v("有界")]),v._v(" "),_("td",[v._v("数组， FIFO，"),_("br"),v._v("必须设置长度，"),_("br"),v._v("默认不公平")])]),v._v(" "),_("tr",[_("td",[v._v("LinkedBlockingQueue")]),v._v(" "),_("td",[v._v("基于链表的FIFO阻塞队列")]),v._v(" "),_("td",[v._v("有界")]),v._v(" "),_("td",[v._v("链表， FIFO，没有指定长度")])]),v._v(" "),_("tr",[_("td",[v._v("PriorityBlockingQueue")]),v._v(" "),_("td",[v._v("带优先级的无界阻塞队列")]),v._v(" "),_("td",[v._v("无界")]),v._v(" "),_("td",[v._v("支持优先级排序")])]),v._v(" "),_("tr",[_("td",[v._v("DelayQueue")]),v._v(" "),_("td",[v._v("延期阻塞队列")]),v._v(" "),_("td",[v._v("无界")]),v._v(" "),_("td",[v._v("优先级队列实现，没有指定长度")])]),v._v(" "),_("tr",[_("td",[v._v("SynchronousQueue")]),v._v(" "),_("td",[v._v("并发同步阻塞队列")]),v._v(" "),_("td",[v._v("有界")]),v._v(" "),_("td",[v._v("不存储元素，不能指定长度")])]),v._v(" "),_("tr",[_("td",[v._v("LinkedTransferQueue")]),v._v(" "),_("td"),v._v(" "),_("td",[v._v("无界")]),v._v(" "),_("td",[v._v("链表")])]),v._v(" "),_("tr",[_("td",[v._v("LinkedBlockingDeque")]),v._v(" "),_("td",[v._v("基于链表的FIFO双端阻塞队列")]),v._v(" "),_("td",[v._v("有界")]),v._v(" "),_("td",[v._v("链表，双向，没有指定长度")])])])]),v._v(" "),_("h3",{attrs:{id:"arrayblockingqueue"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#arrayblockingqueue"}},[v._v("$")]),v._v(" ArrayBlockingQueue")]),v._v(" "),_("p",[v._v("此队列按照先进先出（FIFO）的原则对元素进行排序")]),v._v(" "),_("p",[v._v("默认情况下不保证线程公平地访问队列（所谓公平是指当队列可用时，先被阻塞的线程先访问队列）")]),v._v(" "),_("p",[v._v("为了保证公平性通常会降低吞吐量。")]),v._v(" "),_("p",[v._v("公平锁是利用了可重入锁的公平锁来实现。")]),v._v(" "),_("h3",{attrs:{id:"arrayblockingqueue-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#arrayblockingqueue-2"}},[v._v("$")]),v._v(" ArrayBlockingQueue")]),v._v(" "),_("p",[v._v("此队列按照先进先出（FIFO）的原则对元素进行排序")]),v._v(" "),_("p",[v._v("默认长度为 "),_("code",[v._v("Integer.MAX_VALUE")])]),v._v(" "),_("h3",{attrs:{id:"priorityblockingqueue"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#priorityblockingqueue"}},[v._v("$")]),v._v(" PriorityBlockingQueue")]),v._v(" "),_("p",[v._v("默认情况下元素采取自然顺序升序排列")]),v._v(" "),_("p",[v._v("可以自定义 "),_("code",[v._v("Comparator")]),v._v(" 或者自定义类实现 "),_("code",[v._v("compareTo()")]),v._v(" 方法来指定排序规则")]),v._v(" "),_("p",[v._v("不支持同优先级元素排序")]),v._v(" "),_("h3",{attrs:{id:"delayqueue"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#delayqueue"}},[v._v("$")]),v._v(" DelayQueue")]),v._v(" "),_("p",[v._v("队列使用 "),_("code",[v._v("PriorityQueue")]),v._v(" 来实现，队列中的元素必须实现 "),_("code",[v._v("Delayed")]),v._v(" 接口")]),v._v(" "),_("p",[v._v("只有在延时期满才能从队列中提取元素")]),v._v(" "),_("h3",{attrs:{id:"copyonwritearraylist"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#copyonwritearraylist"}},[v._v("$")]),v._v(" CopyOnWriteArrayList")]),v._v(" "),_("h2",{attrs:{id:"参考"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[v._v("$")]),v._v(" 参考")]),v._v(" "),_("p",[_("a",{attrs:{href:"https://www.zhihu.com/question/36771163",target:"_blank",rel:"noopener noreferrer"}},[v._v("Java中Lock，tryLock，lockInterruptibly有什么区别？"),_("OutboundLink")],1)])])}),[],!1,null,null,null);_.default=r.exports}}]);