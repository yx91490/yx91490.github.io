<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kudu | yx91490的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-QQHZM2VLM0"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QQHZM2VLM0');</script>
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?6781d2ac2dff1f3b278518419b4d4deb";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <meta name="description" content="java, 大数据(hadoop, sqoop, kylin, zeppelin)相关技术, 工作经验记录">
    <meta name="google-site-verification" content="j1Gm2ZeMV3D7mPiI08fpx91dEOSlhCAJjD4vy_pSroQ">
    <meta name="baidu-site-verification" content="4z2bGbjYMB">
    
    <link rel="preload" href="/assets/css/0.styles.003598ab.css" as="style"><link rel="preload" href="/assets/js/app.1c8077c0.js" as="script"><link rel="preload" href="/assets/js/2.09d8812d.js" as="script"><link rel="preload" href="/assets/js/71.b6919b00.js" as="script"><link rel="prefetch" href="/assets/js/10.4171dbcb.js"><link rel="prefetch" href="/assets/js/100.f81c7377.js"><link rel="prefetch" href="/assets/js/101.c22bd5e3.js"><link rel="prefetch" href="/assets/js/102.69bd0d78.js"><link rel="prefetch" href="/assets/js/103.d0821059.js"><link rel="prefetch" href="/assets/js/104.b2696c15.js"><link rel="prefetch" href="/assets/js/105.fb36fb46.js"><link rel="prefetch" href="/assets/js/106.88d6436f.js"><link rel="prefetch" href="/assets/js/107.b9246f72.js"><link rel="prefetch" href="/assets/js/108.589b461e.js"><link rel="prefetch" href="/assets/js/109.d1e3bc25.js"><link rel="prefetch" href="/assets/js/11.84e74a99.js"><link rel="prefetch" href="/assets/js/110.f356fd92.js"><link rel="prefetch" href="/assets/js/111.c6f574e1.js"><link rel="prefetch" href="/assets/js/112.aaddf412.js"><link rel="prefetch" href="/assets/js/113.2f2bec01.js"><link rel="prefetch" href="/assets/js/114.b34c0c50.js"><link rel="prefetch" href="/assets/js/115.10eb77c0.js"><link rel="prefetch" href="/assets/js/116.545a5808.js"><link rel="prefetch" href="/assets/js/117.f2806905.js"><link rel="prefetch" href="/assets/js/118.ffc4f507.js"><link rel="prefetch" href="/assets/js/119.a3d01942.js"><link rel="prefetch" href="/assets/js/12.b2560a0e.js"><link rel="prefetch" href="/assets/js/120.c754ee6d.js"><link rel="prefetch" href="/assets/js/121.77f097be.js"><link rel="prefetch" href="/assets/js/122.0db684a6.js"><link rel="prefetch" href="/assets/js/123.5f8ace9e.js"><link rel="prefetch" href="/assets/js/124.e47691c2.js"><link rel="prefetch" href="/assets/js/125.4b9948c9.js"><link rel="prefetch" href="/assets/js/126.d8ab7d87.js"><link rel="prefetch" href="/assets/js/127.135070f6.js"><link rel="prefetch" href="/assets/js/128.564b8d71.js"><link rel="prefetch" href="/assets/js/129.6afca56a.js"><link rel="prefetch" href="/assets/js/13.584d7c06.js"><link rel="prefetch" href="/assets/js/130.fe579d47.js"><link rel="prefetch" href="/assets/js/131.e24150a0.js"><link rel="prefetch" href="/assets/js/132.578be1aa.js"><link rel="prefetch" href="/assets/js/133.24c01a95.js"><link rel="prefetch" href="/assets/js/134.2477fac8.js"><link rel="prefetch" href="/assets/js/135.aa2efd2f.js"><link rel="prefetch" href="/assets/js/136.3c792495.js"><link rel="prefetch" href="/assets/js/137.4d20b75c.js"><link rel="prefetch" href="/assets/js/138.9542edff.js"><link rel="prefetch" href="/assets/js/139.4cb6d09f.js"><link rel="prefetch" href="/assets/js/14.d6b4a7ae.js"><link rel="prefetch" href="/assets/js/140.4c37c370.js"><link rel="prefetch" href="/assets/js/141.06ae9b8e.js"><link rel="prefetch" href="/assets/js/142.63955fb2.js"><link rel="prefetch" href="/assets/js/143.f6df311c.js"><link rel="prefetch" href="/assets/js/144.de8dbdab.js"><link rel="prefetch" href="/assets/js/145.3dd33547.js"><link rel="prefetch" href="/assets/js/146.6b1812df.js"><link rel="prefetch" href="/assets/js/147.dba37ad0.js"><link rel="prefetch" href="/assets/js/148.df198827.js"><link rel="prefetch" href="/assets/js/149.ce10738d.js"><link rel="prefetch" href="/assets/js/15.88324fac.js"><link rel="prefetch" href="/assets/js/150.ed95e4c2.js"><link rel="prefetch" href="/assets/js/151.2aef3bc6.js"><link rel="prefetch" href="/assets/js/152.dbb33687.js"><link rel="prefetch" href="/assets/js/153.87009079.js"><link rel="prefetch" href="/assets/js/154.83876fe8.js"><link rel="prefetch" href="/assets/js/155.47c3bfb4.js"><link rel="prefetch" href="/assets/js/156.a41e2e21.js"><link rel="prefetch" href="/assets/js/157.70deba1a.js"><link rel="prefetch" href="/assets/js/158.e7b8cc71.js"><link rel="prefetch" href="/assets/js/159.249d0d78.js"><link rel="prefetch" href="/assets/js/16.60745381.js"><link rel="prefetch" href="/assets/js/160.d894133e.js"><link rel="prefetch" href="/assets/js/161.9faeda2c.js"><link rel="prefetch" href="/assets/js/162.ca09b439.js"><link rel="prefetch" href="/assets/js/163.b58322a6.js"><link rel="prefetch" href="/assets/js/164.66f43c9e.js"><link rel="prefetch" href="/assets/js/165.8fc8990a.js"><link rel="prefetch" href="/assets/js/166.dee6bd1d.js"><link rel="prefetch" href="/assets/js/167.3631c64d.js"><link rel="prefetch" href="/assets/js/168.1a46b58a.js"><link rel="prefetch" href="/assets/js/169.b8e5f05a.js"><link rel="prefetch" href="/assets/js/17.9ae3e596.js"><link rel="prefetch" href="/assets/js/170.3680b4ee.js"><link rel="prefetch" href="/assets/js/171.a2936ee9.js"><link rel="prefetch" href="/assets/js/172.81bbe493.js"><link rel="prefetch" href="/assets/js/173.89ba378a.js"><link rel="prefetch" href="/assets/js/174.2f074f9c.js"><link rel="prefetch" href="/assets/js/175.7d1f6116.js"><link rel="prefetch" href="/assets/js/176.732c1ad7.js"><link rel="prefetch" href="/assets/js/177.7157c59a.js"><link rel="prefetch" href="/assets/js/178.e398403e.js"><link rel="prefetch" href="/assets/js/179.83f399b5.js"><link rel="prefetch" href="/assets/js/18.87b0f642.js"><link rel="prefetch" href="/assets/js/180.0d64c527.js"><link rel="prefetch" href="/assets/js/181.e2545e9d.js"><link rel="prefetch" href="/assets/js/182.362549de.js"><link rel="prefetch" href="/assets/js/183.25f1036f.js"><link rel="prefetch" href="/assets/js/184.3fb7384d.js"><link rel="prefetch" href="/assets/js/185.ec835164.js"><link rel="prefetch" href="/assets/js/186.384f4043.js"><link rel="prefetch" href="/assets/js/187.9a19c07d.js"><link rel="prefetch" href="/assets/js/188.073564e4.js"><link rel="prefetch" href="/assets/js/189.98dca228.js"><link rel="prefetch" href="/assets/js/19.a9594438.js"><link rel="prefetch" href="/assets/js/190.115eea2a.js"><link rel="prefetch" href="/assets/js/191.3836a5b0.js"><link rel="prefetch" href="/assets/js/192.768f7a2d.js"><link rel="prefetch" href="/assets/js/193.fd147b1e.js"><link rel="prefetch" href="/assets/js/194.a5ba5a0f.js"><link rel="prefetch" href="/assets/js/195.a480bd01.js"><link rel="prefetch" href="/assets/js/196.c7760ffa.js"><link rel="prefetch" href="/assets/js/197.0d8e6010.js"><link rel="prefetch" href="/assets/js/198.00207138.js"><link rel="prefetch" href="/assets/js/199.da37ff1b.js"><link rel="prefetch" href="/assets/js/20.06dd15d9.js"><link rel="prefetch" href="/assets/js/200.3fad0fb0.js"><link rel="prefetch" href="/assets/js/201.649bd3e5.js"><link rel="prefetch" href="/assets/js/202.c9f452a4.js"><link rel="prefetch" href="/assets/js/203.cba1720b.js"><link rel="prefetch" href="/assets/js/21.60dc5739.js"><link rel="prefetch" href="/assets/js/22.62830d86.js"><link rel="prefetch" href="/assets/js/23.aec7e760.js"><link rel="prefetch" href="/assets/js/24.a39131ea.js"><link rel="prefetch" href="/assets/js/25.57991dc7.js"><link rel="prefetch" href="/assets/js/26.666f3888.js"><link rel="prefetch" href="/assets/js/27.d90edddc.js"><link rel="prefetch" href="/assets/js/28.c08762cd.js"><link rel="prefetch" href="/assets/js/29.8f703c00.js"><link rel="prefetch" href="/assets/js/3.5291bd6f.js"><link rel="prefetch" href="/assets/js/30.b95b5f96.js"><link rel="prefetch" href="/assets/js/31.6045c77c.js"><link rel="prefetch" href="/assets/js/32.06a13a4f.js"><link rel="prefetch" href="/assets/js/33.6d5117ee.js"><link rel="prefetch" href="/assets/js/34.c9b406ce.js"><link rel="prefetch" href="/assets/js/35.c6ae3eb4.js"><link rel="prefetch" href="/assets/js/36.456a19cc.js"><link rel="prefetch" href="/assets/js/37.96e5f639.js"><link rel="prefetch" href="/assets/js/38.b5c7001a.js"><link rel="prefetch" href="/assets/js/39.f6a644fd.js"><link rel="prefetch" href="/assets/js/4.a2e3361c.js"><link rel="prefetch" href="/assets/js/40.a1de4c15.js"><link rel="prefetch" href="/assets/js/41.6396d063.js"><link rel="prefetch" href="/assets/js/42.51493c8e.js"><link rel="prefetch" href="/assets/js/43.eefce3db.js"><link rel="prefetch" href="/assets/js/44.68af94e4.js"><link rel="prefetch" href="/assets/js/45.334c7cc2.js"><link rel="prefetch" href="/assets/js/46.74ddaa0b.js"><link rel="prefetch" href="/assets/js/47.40ade509.js"><link rel="prefetch" href="/assets/js/48.48a3dc07.js"><link rel="prefetch" href="/assets/js/49.f4d8d4e3.js"><link rel="prefetch" href="/assets/js/5.e9e877ad.js"><link rel="prefetch" href="/assets/js/50.5c56bc06.js"><link rel="prefetch" href="/assets/js/51.4227b90f.js"><link rel="prefetch" href="/assets/js/52.ad6f5e02.js"><link rel="prefetch" href="/assets/js/53.17fcea84.js"><link rel="prefetch" href="/assets/js/54.49079eb0.js"><link rel="prefetch" href="/assets/js/55.f6dc42d1.js"><link rel="prefetch" href="/assets/js/56.b83686c4.js"><link rel="prefetch" href="/assets/js/57.b9a32559.js"><link rel="prefetch" href="/assets/js/58.130e0d1f.js"><link rel="prefetch" href="/assets/js/59.4dd31af5.js"><link rel="prefetch" href="/assets/js/6.7119b476.js"><link rel="prefetch" href="/assets/js/60.6b26d636.js"><link rel="prefetch" href="/assets/js/61.4f3cd5b1.js"><link rel="prefetch" href="/assets/js/62.bbe1b100.js"><link rel="prefetch" href="/assets/js/63.03e1ffd2.js"><link rel="prefetch" href="/assets/js/64.36883580.js"><link rel="prefetch" href="/assets/js/65.25c8d7c2.js"><link rel="prefetch" href="/assets/js/66.1bc14ae7.js"><link rel="prefetch" href="/assets/js/67.aa73f9af.js"><link rel="prefetch" href="/assets/js/68.58fb370f.js"><link rel="prefetch" href="/assets/js/69.1ad9aa99.js"><link rel="prefetch" href="/assets/js/7.560b1069.js"><link rel="prefetch" href="/assets/js/70.2dd1cc71.js"><link rel="prefetch" href="/assets/js/72.42b16660.js"><link rel="prefetch" href="/assets/js/73.810bba7f.js"><link rel="prefetch" href="/assets/js/74.46ea4cc8.js"><link rel="prefetch" href="/assets/js/75.50003a99.js"><link rel="prefetch" href="/assets/js/76.23da54d2.js"><link rel="prefetch" href="/assets/js/77.e1e134d9.js"><link rel="prefetch" href="/assets/js/78.cbf86372.js"><link rel="prefetch" href="/assets/js/79.ca22b8c1.js"><link rel="prefetch" href="/assets/js/8.e9216d19.js"><link rel="prefetch" href="/assets/js/80.865c312a.js"><link rel="prefetch" href="/assets/js/81.2f299abd.js"><link rel="prefetch" href="/assets/js/82.b3de1040.js"><link rel="prefetch" href="/assets/js/83.e4827f08.js"><link rel="prefetch" href="/assets/js/84.009cf84b.js"><link rel="prefetch" href="/assets/js/85.27e8651c.js"><link rel="prefetch" href="/assets/js/86.56b9dea1.js"><link rel="prefetch" href="/assets/js/87.5671c8c2.js"><link rel="prefetch" href="/assets/js/88.48014911.js"><link rel="prefetch" href="/assets/js/89.72770fc6.js"><link rel="prefetch" href="/assets/js/9.045b2c96.js"><link rel="prefetch" href="/assets/js/90.11ec3a9f.js"><link rel="prefetch" href="/assets/js/91.5249ea22.js"><link rel="prefetch" href="/assets/js/92.bf7f8cf4.js"><link rel="prefetch" href="/assets/js/93.db0d8177.js"><link rel="prefetch" href="/assets/js/94.7135cc0d.js"><link rel="prefetch" href="/assets/js/95.bf1893c1.js"><link rel="prefetch" href="/assets/js/96.752a626f.js"><link rel="prefetch" href="/assets/js/97.038eb2a5.js"><link rel="prefetch" href="/assets/js/98.673f9a86.js"><link rel="prefetch" href="/assets/js/99.5b31447d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.003598ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">yx91490的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java/" class="nav-link">
  Java开发
</a></div><div class="nav-item"><a href="/bigdata/" class="nav-link router-link-active">
  大数据
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="contactMe" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="contactMe" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sql/" class="nav-link">
  SQL
</a></li><li class="dropdown-item"><!----> <a href="/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/clang/" class="nav-link">
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/diagram/" class="nav-link">
  图示速查
</a></li><li class="dropdown-item"><!----> <a href="/collection/" class="nav-link">
  资料收藏
</a></li><li class="dropdown-item"><!----> <a href="/cs/" class="nav-link">
  计算机科学
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/yx91490" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/yx91490/yx91490.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  给我留言
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java/" class="nav-link">
  Java开发
</a></div><div class="nav-item"><a href="/bigdata/" class="nav-link router-link-active">
  大数据
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="contactMe" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="contactMe" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sql/" class="nav-link">
  SQL
</a></li><li class="dropdown-item"><!----> <a href="/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/clang/" class="nav-link">
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/diagram/" class="nav-link">
  图示速查
</a></li><li class="dropdown-item"><!----> <a href="/collection/" class="nav-link">
  资料收藏
</a></li><li class="dropdown-item"><!----> <a href="/cs/" class="nav-link">
  计算机科学
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/yx91490" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/yx91490/yx91490.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  给我留言
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Zeppelin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/zeppelin/heart_diease_dataset.html" class="sidebar-link">心脏病预测数据</a></li><li><a href="/bigdata/zeppelin/zeppelin_bugs.html" class="sidebar-link">zeppelin使用趟坑</a></li><li><a href="/bigdata/zeppelin/zeppelin_sharding.html" class="sidebar-link">Zeppelin v0.8分片方案</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Waterdrop</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/waterdrop/waterdrop.html" class="sidebar-link">Waterdrop学习笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Kylin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/kylin/awesome_kylin.html" class="sidebar-link">Kylin学习资料汇总</a></li><li><a href="/bigdata/kylin/read_kylin_source.html" class="sidebar-link">阅读Kylin源码</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Sqoop</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/sqoop/sqoop_usage.html" class="sidebar-link">代码调试</a></li><li><a href="/bigdata/sqoop/sqoop_hcatalog.html" class="sidebar-link">sqoopHCatalog使用</a></li><li><a href="/bigdata/sqoop/sqoop_mysql_temp_file.html" class="sidebar-link">sqoop导入导致MySQL产生大临时文件问题排查</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ZooKeeper</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/zookeeper/zookeeper.html" class="sidebar-link">ZooKeeper笔记</a></li><li><a href="/bigdata/zookeeper/zookeeper_user.html" class="sidebar-link">ZooKeeper管理员指南</a></li><li><a href="/bigdata/zookeeper/zk_distribute_lock.html" class="sidebar-link">zookeeper实现分布式锁</a></li><li><a href="/bigdata/zookeeper/isbn9787111524311_note.html" class="sidebar-link">《ZooKeeper分布式过程协同技术详解》笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Hadoop</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/hadoop/hadoop_interview.html" class="sidebar-link">Hadoop面试题</a></li><li><a href="/bigdata/hadoop/port.html" class="sidebar-link">Hadoop默认端口</a></li><li><a href="/bigdata/hadoop/hdfs_user.html" class="sidebar-link">HDFS命令笔记</a></li><li><a href="/bigdata/hadoop/hdfs_issue.html" class="sidebar-link">HDFS Issue</a></li><li><a href="/bigdata/hadoop/distcp.html" class="sidebar-link">Distcp命令</a></li><li><a href="/bigdata/hadoop/columnar_storage_parquet_orc.html" class="sidebar-link">列式存储（parquet,orc）</a></li><li><a href="/bigdata/hadoop/avro_specification_1.8.1.html" class="sidebar-link">avro格式规范1.8.1翻译</a></li><li><a href="/bigdata/hadoop/yarn.html" class="sidebar-link">Yarn</a></li><li><a href="/bigdata/hadoop/yarn_cli.html" class="sidebar-link">Yarn Cli命令</a></li><li><a href="/bigdata/hadoop/mapreduce.html" class="sidebar-link">MapReduce</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Hive</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/hive/hive_cli.html" class="sidebar-link">Beeline命令行</a></li><li><a href="/bigdata/hive/hive_src.html" class="sidebar-link">Hive源码分析</a></li><li><a href="/bigdata/hive/hive_ql.html" class="sidebar-link">HiveQL</a></li><li><a href="/bigdata/hive/hive_data_type.html" class="sidebar-link">Hive数据类型</a></li><li><a href="/bigdata/hive/hive_bucket.html" class="sidebar-link">Hive分桶</a></li><li><a href="/bigdata/hive/hive_principle.html" class="sidebar-link">Hive原理</a></li><li><a href="/bigdata/hive/hive_optimize.html" class="sidebar-link">Hive优化</a></li><li><a href="/bigdata/hive/hive_parse_json.html" class="sidebar-link">Hive解析json数组</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>OLAP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/olap/olap.html" class="sidebar-link">OLAP笔记</a></li><li><a href="/bigdata/olap/data_analyze.html" class="sidebar-link">数据分析笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ClickHouse</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/clickhouse/clickhouse.html" class="sidebar-link">ClickHouse学习笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Doris</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/doris/doris.html" class="sidebar-link">Doris笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Kudu</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/kudu/kudu.html" aria-current="page" class="active sidebar-link">Kudu</a></li><li><a href="/bigdata/kudu/kudu_paper.html" class="sidebar-link">Kudu: Storage for Fast Analytics on Fast Data</a></li><li><a href="/bigdata/kudu/kudu_paper_translation.html" class="sidebar-link">【译】Kudu论文</a></li><li><a href="/bigdata/kudu/kudu_note.html" class="sidebar-link">Kudu笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Impala</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/impala/cup.html" class="sidebar-link">CUP学习笔记</a></li><li><a href="/bigdata/impala/impala.html" class="sidebar-link">Impala</a></li><li><a href="/bigdata/impala/impala_admin.html" class="sidebar-link">Impala运维</a></li><li><a href="/bigdata/impala/impala_dev.html" class="sidebar-link">Impala开发笔记</a></li><li><a href="/bigdata/impala/impala_community.html" class="sidebar-link">Impala社区</a></li><li><a href="/bigdata/impala/impala_issues.html" class="sidebar-link">Impala问题记录</a></li><li><a href="/bigdata/impala/impala_paper_translation.html" class="sidebar-link">【转】【译】Impala：Hadoop上的一个现代开源SQL引擎</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Spark</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/spark/spark.html" class="sidebar-link">Spark</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HBase</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/hbase/hbase_interview.html" class="sidebar-link">HBase</a></li><li><a href="/bigdata/hbase/hbase_user.html" class="sidebar-link">HBase使用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/note/oss_note.html" class="sidebar-link">《快手短视频打造高稳定千亿级别对象存储平台》笔记</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="kudu"><a href="#kudu" class="header-anchor">$</a> Kudu</h1> <h2 id="编译kudu源码"><a href="#编译kudu源码" class="header-anchor">$</a> 编译Kudu源码</h2> <h3 id="要求"><a href="#要求" class="header-anchor">$</a> 要求</h3> <ul><li>不支持Windows</li> <li>C++17兼容的编译器(GCC 7.0)</li></ul> <h3 id="rhel或centos"><a href="#rhel或centos" class="header-anchor">$</a> RHEL或CentOS</h3> <p>CentOS8.0之前的版本需要安装<code>Red Hat Developer Toolset</code>以便于能够访问C++17兼容的编译器。</p> <p>1.安装必备库：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> autoconf automake cyrus-sasl-devel cyrus-sasl-gssapi <span class="token punctuation">\</span>
  cyrus-sasl-plain flex gcc gcc-c++ gdb <span class="token function">git</span> java-1.8.0-openjdk-devel <span class="token punctuation">\</span>
  krb5-server krb5-workstation libtool <span class="token function">make</span> openssl-devel patch <span class="token punctuation">\</span>
  pkgconfig redhat-lsb-core <span class="token function">rsync</span> <span class="token function">unzip</span> vim-common <span class="token function">which</span>
</code></pre></div><p>2.如果在 RHEL 或 8.0 之前的 CentOS 上构建，请安装 Red Hat Developer Toolset。以下是 CentOS 所需的步骤：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> centos-release-scl-rh
<span class="token function">sudo</span> yum <span class="token function">install</span> devtoolset-8
</code></pre></div><p>3.可选：如果需要支持 Kudu 的 NVM（非易失性内存）块缓存，请安装 memkind 库：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> memkind
</code></pre></div><p>如果 Linux 发行版提供的 memkind 包太旧（需要 1.8.0 或更高版本），请从源代码构建和安装：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> numactl-libs numactl-devel
<span class="token function">git</span> clone https://github.com/memkind/memkind.git
<span class="token builtin class-name">cd</span> memkind
./build.sh <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr
<span class="token function">sudo</span> yum remove memkind
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token function">sudo</span> ldconfig
</code></pre></div><p>4.可选：如果您计划构建文档，请安装一些额外的软件包，包括 ruby：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> gem graphviz ruby-devel zlib-devel
</code></pre></div><p>如果在 RHEL 或 CentOS 7.0 之前构建， gem 包可能需要替换为 rubygems。</p> <p>构建文档需要 Doxygen 1.8.19 或更高版本，必须 <a href="https://www.doxygen.nl/manual/install.html#install_src_unix" target="_blank" rel="noopener noreferrer">手动从源代码构建<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。在低于 8.0 的 CentOS 或 RHEL 上构建此版本的 Doxygen 还需要 <a href="https://www.softwarecollections.org/en/scls/rhscl/devtoolset-8/" target="_blank" rel="noopener noreferrer">devtoolset<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>5.克隆 Git 存储库并切换到新<code>kudu</code>目录：</p> <div class="language- extra-class"><pre class="language-text"><code>git clone https://github.com/apache/kudu
cd kudu
</code></pre></div><p>6.使用<code>build-if-necessary.sh</code>脚本构建缺失的必要的三方软件。不使用 devtoolset 会导致<code>Host compiler appears to require libatomic, but cannot find it.</code>：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>build-support/enable_devtoolset.sh thirdparty/build-if-necessary.sh
</code></pre></div><p>7.使用上一步中安装的程序构建 Kudu。为中间输出选择一个构建目录，该目录可以位于文件系统中的任何位置，但<code>kudu</code>目录本身除外。请注意，仍然必须指定 devtoolset，否则会出现<code>cc1plus: error: unrecognized command line option &quot;-std=c++17&quot;</code>：</p> <div class="language- extra-class"><pre class="language-text"><code>mkdir -p build/release
cd build/release
../../build-support/enable_devtoolset.sh \
  ../../thirdparty/installed/common/bin/cmake \
  -DCMAKE_BUILD_TYPE=release ../..
make -j4
</code></pre></div><p>8.可选：安装 Kudu 可执行文件、库和头文件：</p> <p>运行<code>sudo make install</code>安装以下内容：</p> <ul><li>kudu-tserver 和 kudu-master 可执行文件 <code>/usr/local/sbin</code></li> <li>Kudu 命令行工具 <code>/usr/local/bin</code></li> <li>Kudu 客户端库在 <code>/usr/local/lib64/</code></li> <li>Kudu 客户端标头 <code>/usr/local/include/kudu</code></li></ul> <p>默认安装目录为<code>/usr/local</code>。可以通过<code>DESTDIR</code> 环境变量对其进行自定义：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span>/opt/kudu <span class="token function">install</span>
</code></pre></div><p>9.可选：构建文档。注意：此命令会构建不适合上传到 Kudu 网站的本地文档：</p> <div class="language- extra-class"><pre class="language-text"><code>make docs
</code></pre></div><h3 id="示例脚本"><a href="#示例脚本" class="header-anchor">$</a> 示例脚本</h3> <p>此脚本概述了在新安装的 RHEL 或 CentOS 主机上构建 Kudu 的过程，并可用作自动化部署方案的基础。它跳过上面标记为<strong>可选</strong>的步骤：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token function">sudo</span> yum <span class="token parameter variable">-y</span> <span class="token function">install</span> autoconf automake <span class="token function">curl</span> cyrus-sasl-devel cyrus-sasl-gssapi <span class="token punctuation">\</span>
  cyrus-sasl-plain flex gcc gcc-c++ gdb <span class="token function">git</span> java-1.8.0-openjdk-devel <span class="token punctuation">\</span>
  krb5-server krb5-workstation libtool <span class="token function">make</span> openssl-devel patch pkgconfig <span class="token punctuation">\</span>
  redhat-lsb-core <span class="token function">rsync</span> <span class="token function">unzip</span> vim-common <span class="token function">which</span>
<span class="token function">sudo</span> yum <span class="token parameter variable">-y</span> <span class="token function">install</span> centos-release-scl-rh
<span class="token function">sudo</span> yum <span class="token parameter variable">-y</span> <span class="token function">install</span> devtoolset-8
<span class="token function">git</span> clone https://github.com/apache/kudu
<span class="token builtin class-name">cd</span> kudu
build-support/enable_devtoolset.sh thirdparty/build-if-necessary.sh
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> build/release
<span class="token builtin class-name">cd</span> build/release
<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/build-support/enable_devtoolset.sh <span class="token punctuation">\</span>
  <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/thirdparty/installed/common/bin/cmake <span class="token punctuation">\</span>
  <span class="token parameter variable">-DCMAKE_BUILD_TYPE</span><span class="token operator">=</span>release <span class="token punctuation">\</span>
  <span class="token parameter variable">-DNO_TESTS</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
  <span class="token punctuation">..</span>/<span class="token punctuation">..</span>
<span class="token function">make</span> <span class="token parameter variable">-j4</span>
</code></pre></div><h3 id="运行"><a href="#运行" class="header-anchor">$</a> 运行</h3> <p>组织目录：</p> <div class="language- extra-class"><pre class="language-text"><code>├── bin
│   ├── kudu
│   ├── kudu-master
│   └── kudu-tserver
├── master
│   ├── conf/master.conf
│   ├── data
│   ├── log
│   └── wal
└── tserver
    ├── conf/tserver.conf
    ├── data
    ├── log
    └── wal
</code></pre></div><p>master/conf/master.conf配置：</p> <div class="language- extra-class"><pre class="language-text"><code>-rpc_bind_addresses=localhost:7051
-webserver_interface=localhost
-webserver_port=8051
-fs_wal_dir=/home/kudu/kudu_cluster/master/wal
-fs_data_dirs=/home/kudu/kudu_cluster/master/data
-log_dir=/home/kudu/kudu_cluster/master/log
-unlock_unsafe_flags
-never_fsync
</code></pre></div><p>tserver/conf/tserver.conf配置：</p> <div class="language- extra-class"><pre class="language-text"><code>-rpc_bind_addresses=localhost:7150
-webserver_interface=localhost
-webserver_port=8150
-fs_wal_dir=/apps/home/worker/kudu_cluster/tserver/wal
-fs_data_dirs=/apps/home/worker/kudu_cluster/tserver/data
-log_dir=/apps/home/worker/kudu_cluster/tserver/log
-unlock_unsafe_flags
-never_fsync
-tserver_master_addrs=127.0.0.1:7051
</code></pre></div><p>master报错：</p> <div class="language- extra-class"><pre class="language-text"><code>W0805 17:18:12.092677  5319 negotiation.cc:313] Failed RPC negotiation. Trace:
0805 17:18:12.092524 (+     0us) reactor.cc:583] Submitting negotiation task for server connection from 127.0.0.1:39018
0805 17:18:12.092630 (+   106us) negotiation.cc:304] Negotiation complete: Invalid argument: Server connection negotiation failed: server connection from 127.0.0.1:39018: unable to find SASL plugin: PLAIN
Metrics: {&quot;server-negotiator.queue_time_us&quot;:49,&quot;thread_start_us&quot;:31,&quot;threads_started&quot;:1}
</code></pre></div><p>tserver报错：</p> <div class="language- extra-class"><pre class="language-text"><code>W0805 17:05:51.576901  2112 negotiation.cc:313] Failed RPC negotiation. Trace:
0805 17:05:51.576750 (+     0us) reactor.cc:583] Submitting negotiation task for client connection to 127.0.0.1:7051
0805 17:05:51.576852 (+   102us) negotiation.cc:304] Negotiation complete: Invalid argument: Client connection negotiation failed: client connection to 127.0.0.1:7051: unable to find SASL plugin: PLAIN
Metrics: {&quot;client-negotiator.queue_time_us&quot;:61,&quot;thread_start_us&quot;:48,&quot;threads_started&quot;:1}
W0805 17:05:51.576957  2110 heartbeater.cc:586] Failed to heartbeat to 127.0.0.1:7051 (0 consecutive failures): Invalid argument: Failed to ping master at 127.0.0.1:7051: Client connection negotiation failed: client connection to 127.0.0.1:7051: unable to find SASL plugin: PLAIN
</code></pre></div><p>安装软件包：</p> <div class="language- extra-class"><pre class="language-text"><code>yum install gcc python-devel
yum install cyrus-sasl*
</code></pre></div><h3 id="参考"><a href="#参考" class="header-anchor">$</a> 参考</h3> <p><a href="https://kudu.apache.org/docs/installation.html#build_from_source" target="_blank" rel="noopener noreferrer">Build From Source<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://bbs.huaweicloud.com/blogs/174501" target="_blank" rel="noopener noreferrer">手把手教你在华为云编译和使用Apache Kudu<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.cnblogs.com/barneywill/p/10793687.html" target="_blank" rel="noopener noreferrer">【原创】大叔经验分享（53）kudu报错unable to find SASL plugin: PLAIN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://blog.csdn.net/qqqq0199181/article/details/95506766" target="_blank" rel="noopener noreferrer">Kudu 1.8.0 编译安装配置（瘦身版）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="kudu迁移master"><a href="#kudu迁移master" class="header-anchor">$</a> Kudu迁移master</h2> <div class="language- extra-class"><pre class="language-text"><code>
./sbin/kudu-master  \
--fs_data_dirs=/hdp/kudu/data \
--fs_wal_dir=/hdp/kudu/wal \
--master_addresses=&quot;211.local.org:7051,212.local.org:7051,213.local.org:7051&quot; \
--heap_profile_path=/tmp/kudu-master.12085 \
--flagfile=/run/cloudera-scm-agent/process/930-kudu-KUDU_MASTER/gflagfile


kudu fs dump uuid --fs_wal_dir=/hdp/kudu/wal --fs_data_dirs=/hdp/kudu/data 2&gt;/dev/null

=======================
$ sudo -u kudu kudu fs dump uuid --fs_wal_dir=/hdp/kudu/wal --fs_data_dirs=/hdp/kudu/data 2&gt;/dev/null
574e72983eee4ec69baa86b32093a460
fcf4d83d650440938d4787b1b5dd04fe
b3e2ea1c87854f3c97624d02fbec400b

$ sudo -u kudu kudu fs dump uuid --fs_wal_dir=/hdp/kudu/wal --fs_data_dirs=/hdp/kudu/data &gt; out.txt 2&gt;err.txt

$ sudo -u kudu kudu local_replica cmeta rewrite_raft_config --fs_wal_dir=/hdp/kudu/wal --fs_data_dirs=/hdp/kudu/data 00000000000000000000000000000000 574e72983eee4ec69baa86b32093a460:211.local.org:7051 fcf4d83d650440938d4787b1b5dd04fe:212.local.org:7051 b3e2ea1c87854f3c97624d02fbec400b:213.local.org:7051

$ sudo -u kudu kudu local_replica copy_from_remote --fs_wal_dir=/hdp/kudu/wal --fs_data_dirs=/hdp/kudu/data 00000000000000000000000000000000 211.local.org:7051


</code></pre></div><h2 id="kudu迁移到多master"><a href="#kudu迁移到多master" class="header-anchor">$</a> Kudu迁移到多master</h2> <h3 id="迁移准备"><a href="#迁移准备" class="header-anchor">$</a> 迁移准备</h3> <ol><li><p>建立一个维护窗口（1小时足够），期间kudu服务将不可用。</p></li> <li><p>确定master数量，master数据应该是奇数个。推荐设置为3个或5个，可以对应容忍1个或两个失败。</p></li> <li><p>对现有的 master 执行以下准备步骤：</p> <ul><li><p>识别并记录 master 的 write-ahead log (WAL) 和数据所在的目录。如果使用 Kudu 系统包，它们的默认位置是<code>/var/lib/kudu/master</code>，但可以使用 <code>fs_wal_dir</code> 和 <code>fs_data_dirs</code>配置参数。</p></li> <li><p>识别并记录 master 用于 RPC 的端口。默认端口值为 7051，但可能已使用<code>rpc_bind_addresses</code> 配置参数。</p></li> <li><p>识别主节点的 UUID。可以使用以下命令获取它：</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo -u kudu kudu fs dump uuid --fs_wal_dir=&lt;master_wal_dir&gt; [--fs_data_dirs=&lt;master_data_dir&gt;] 2&gt;/dev/null
</code></pre></div></li> <li><p>（可选）为master配置DNS别名。别名可以是DNS的cname（假设机器在DNS中已经存在一条记录），或者<code>/etc/hosts</code>里的别名。</p></li></ul></li> <li><p>如果通过impala访问kudu表，必须同时更新Hive Metastore数据库中的master地址。</p> <ul><li><p>如果设置了DNS别名，执行下面的impala SQL：</p> <div class="language- extra-class"><pre class="language-text"><code>ALTER TABLE table_name
SET TBLPROPERTIES
('kudu.master_addresses' = 'master-1,master-2,master-3');
</code></pre></div></li> <li><p>如果没有设置DNS别名，参考第11步。</p></li></ul></li> <li><p>为每个新主执行以下准备步骤：</p> <ul><li>在集群中选择一台未使用的机器。master 负载很低，因此它可以与其他数据服务或进程混部，但不能与来自相同配置的另一个 Kudu master 混部。</li> <li>确保机器已使用系统包（已安装过 kudu 和 kudu-master 包）或其他方式安装了 Kudu。</li> <li>选择并记录主数据所在的目录。</li> <li>选择并记录主服务器用于 RPC 的端口。</li> <li>（可选）为 master 配置一个 DNS 别名（例如master-2, master-3， 等等）。</li></ul></li></ol> <h3 id="执行迁移"><a href="#执行迁移" class="header-anchor">$</a> 执行迁移</h3> <ol><li><p>停止整个集群所有的kudu进程。</p></li> <li><p>格式化每台新主机上的数据目录，并记录生成的UUID。使用以下命令：</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo -u kudu kudu fs format --fs_wal_dir=&lt;master_wal_dir&gt; [--fs_data_dirs=&lt;master_data_dir&gt;]
$ sudo -u kudu kudu fs dump uuid --fs_wal_dir=&lt;master_wal_dir&gt; [--fs_data_dirs=&lt;master_data_dir&gt;] 2&gt;/dev/null
</code></pre></div><p>示例：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@kudu-prod002 ~]# sudo -u kudu kudu fs format --fs_wal_dir=/apps/kudu/master/wal --fs_data_dirs=/apps/kudu/master/data
I0623 08:35:26.214287  7012 fs_manager.cc:263] Metadata directory not provided
I0623 08:35:26.214372  7012 fs_manager.cc:269] Using write-ahead log directory (fs_wal_dir) as metadata directory
I0623 08:35:26.216012  7012 fs_manager.cc:602] Generated new instance metadata in path /apps/kudu/master/data/instance:
uuid: &quot;07f824b6be3a4a4abb9bdddd57f6f6fc&quot;
format_stamp: &quot;Formatted at 2021-06-23 00:35:26 on kudu-prod002&quot;
I0623 08:35:26.217067  7012 fs_manager.cc:602] Generated new instance metadata in path /apps/kudu/master/wal/instance:
uuid: &quot;07f824b6be3a4a4abb9bdddd57f6f6fc&quot;
format_stamp: &quot;Formatted at 2021-06-23 00:35:26 on kudu-prod002&quot;
I0623 08:35:26.219463  7012 fs_manager.cc:503] Time spent creating directory manager: real 0.002s   user 0.001s sys 0.000s
</code></pre></div></li> <li><p>如果使用的是 Cloudera Manager，请立即添加新的 Kudu 主角色，但不要启动它们。</p> <ul><li>如果使用 DNS 别名，请覆盖每个角色（包括现有的主角色）的 <code>Master Address</code> 参数。</li> <li>如果使用非默认 RPC 端口值，请添加端口号（以冒号分隔）。</li></ul></li> <li><p>在现有 master 上执行以下命令重写 master 的 Raft 配置：</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo -u kudu kudu local_replica cmeta rewrite_raft_config --fs_wal_dir=&lt;master_wal_dir&gt; [--fs_data_dirs=&lt;master_data_dir&gt;] 00000000000000000000000000000000 &lt;all_masters&gt;
</code></pre></div><p>all_masters</p> <p>以空格分隔的所有master列表。列表中的每个条目都必须是以下形式的字符串<code>&lt;uuid&gt;:&lt;主机名&gt;:&lt;端口&gt;</code>。</p> <p>示例：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@kudu-prod001 master]# sudo -u kudu kudu local_replica cmeta rewrite_raft_config --fs_wal_dir=/apps/kudu/master/wal --fs_data_dirs=/apps/kudu/master/data 00000000000000000000000000000000 3f6308e6f92f4046bf6910db315e3119:kudu-prod001:7051 07f824b6be3a4a4abb9bdddd57f6f6fc:kudu-prod002:7051 bc8a8fa87d3447cfbda6d854b7323711:kudu-prod003:7051
I0623 08:44:13.146708 30351 fs_manager.cc:263] Metadata directory not provided
I0623 08:44:13.146780 30351 fs_manager.cc:269] Using write-ahead log directory (fs_wal_dir) as metadata directory
I0623 08:44:13.147426 30351 fs_manager.cc:399] Time spent opening directory manager: real 0.000s    user 0.000s sys 0.000s
I0623 08:44:13.147513 30351 env_posix.cc:1676] Not raising this process' open files per process limit of 65535; it is already as high as it can go
I0623 08:44:13.147557 30351 file_cache.cc:466] Constructed file cache lbm with capacity 26214
I0623 08:44:13.149086 30351 fs_report.cc:352] FS layout report
--------------------
wal directory: 
metadata directory: 
1 data directories: /apps/kudu/master/data/data
Total live blocks: 6
Total live bytes: 52319
Total live bytes (after alignment): 65536
Total number of LBM containers: 7 (0 full)
Did not check for missing blocks
Did not check for orphaned blocks
Total full LBM containers with extra space: 0 (0 repaired)
Total full LBM container extra space in bytes: 0 (0 repaired)
Total incomplete LBM containers: 0 (0 repaired)
Total LBM partial records: 0 (0 repaired)
I0623 08:44:13.149106 30351 fs_manager.cc:419] Time spent opening block manager: real 0.001s    user 0.000s sys 0.000s
I0623 08:44:13.149211 30351 fs_manager.cc:436] Opened local filesystem: /apps/kudu/master/data,/apps/kudu/master/wal
uuid: &quot;3f6308e6f92f4046bf6910db315e3119&quot;
format_stamp: &quot;Formatted at 2021-06-15 08:20:46 on kudu-prod001&quot;
I0623 08:44:13.150106 30351 tool_action_local_replica.cc:244] Backed up old consensus metadata to /apps/kudu/master/wal/consensus-meta/00000000000000000000000000000000.pre_rewrite.1624409053149227
</code></pre></div></li> <li><p>修改现有 master 和新 master 的配置参数<code>master_addresses</code>。新值是所有master的逗号分隔列表。每个条目都是这样的格式：<code>&lt;主机名&gt;:&lt;端口&gt;</code>。（如果使用cloudera manager可以省略这一步）</p></li> <li><p>启动现有的master</p></li> <li><p>在每台新 master 机器上执行以下命令将 master 数据复制到每个新 master：</p> <div class="language- extra-class"><pre class="language-text"><code>$ sudo -u kudu kudu local_replica copy_from_remote --fs_wal_dir=&lt;master_data_dir&gt; 00000000000000000000000000000000 &lt;existing_master&gt;
</code></pre></div><p>示例：</p> <div class="language- extra-class"><pre class="language-text"><code>[root@kudu-prod002 ~]# sudo -u kudu kudu local_replica copy_from_remote --fs_wal_dir=/apps/kudu/master/wal --fs_data_dirs=/apps/kudu/master/data 00000000000000000000000000000000 kudu-prod001:7051
I0623 08:48:32.466200  9769 fs_manager.cc:263] Metadata directory not provided
I0623 08:48:32.466274  9769 fs_manager.cc:269] Using write-ahead log directory (fs_wal_dir) as metadata directory
I0623 08:48:32.466897  9769 fs_manager.cc:399] Time spent opening directory manager: real 0.000s    user 0.000s sys 0.000s
I0623 08:48:32.466969  9769 env_posix.cc:1676] Not raising this process' open files per process limit of 65535; it is already as high as it can go
I0623 08:48:32.467013  9769 file_cache.cc:466] Constructed file cache lbm with capacity 26214
I0623 08:48:32.467432  9769 fs_report.cc:352] FS layout report
--------------------
wal directory: 
metadata directory: 
1 data directories: /apps/kudu/master/data/data
Total live blocks: 0
Total live bytes: 0
Total live bytes (after alignment): 0
Total number of LBM containers: 0 (0 full)
Did not check for missing blocks
Did not check for orphaned blocks
Total full LBM containers with extra space: 0 (0 repaired)
Total full LBM container extra space in bytes: 0 (0 repaired)
Total incomplete LBM containers: 0 (0 repaired)
Total LBM partial records: 0 (0 repaired)
I0623 08:48:32.467450  9769 fs_manager.cc:419] Time spent opening block manager: real 0.000s    user 0.000s sys 0.000s
I0623 08:48:32.467555  9769 fs_manager.cc:436] Opened local filesystem: /apps/kudu/master/data,/apps/kudu/master/wal
uuid: &quot;07f824b6be3a4a4abb9bdddd57f6f6fc&quot;
format_stamp: &quot;Formatted at 2021-06-23 00:35:26 on kudu-prod002&quot;
I0623 08:48:32.474596  9769 tablet_copy_client.cc:240] T 00000000000000000000000000000000 P 07f824b6be3a4a4abb9bdddd57f6f6fc: tablet copy: Beginning tablet copy session from remote peer at address kudu-prod001:7051
I0623 08:48:32.476819  9769 data_dirs.cc:938] Could only allocate 1 dirs of requested 3 for tablet 00000000000000000000000000000000. 1 dirs total
I0623 08:48:32.478768  9769 tablet_copy_client.cc:575] T 00000000000000000000000000000000 P 07f824b6be3a4a4abb9bdddd57f6f6fc: tablet copy: Starting download of 6 data blocks...
I0623 08:48:32.480983  9769 tablet_copy_client.cc:538] T 00000000000000000000000000000000 P 07f824b6be3a4a4abb9bdddd57f6f6fc: tablet copy: Starting download of 1 WAL segments...
I0623 08:48:32.483124  9769 tablet_copy_client.cc:414] T 00000000000000000000000000000000 P 07f824b6be3a4a4abb9bdddd57f6f6fc: tablet copy: Tablet Copy complete. Replacing tablet superblock.
</code></pre></div></li> <li><p>启动所有新的master</p></li> <li><p>修改值 每个tablet server的<code>tserver_master_addrs</code>配置参数。新值必须是逗号分隔的master列表，其中每个条目都是这样格式<code>&lt;主机名&gt;:&lt;端口&gt;</code>。（如果使用cloudera manager可以省略这一步）</p></li> <li><p>启动所有的tablet server</p></li> <li><p>如果通过impala访问kudu并且没有设置DNS别名，请手动更新HMS的数据库。</p> <ul><li><p>以下是您将在 HMS 数据库中运行的示例 SQL 语句：</p> <div class="language- extra-class"><pre class="language-text"><code>UPDATE TABLE_PARAMS
SET PARAM_VALUE =
  'master-1.example.com,master-2.example.com,master-3.example.com'
WHERE PARAM_KEY = 'kudu.master_addresses' AND PARAM_VALUE = 'old-master';
</code></pre></div></li> <li><p>通过运行以下SQL更新元数据：</p> <div class="language- extra-class"><pre class="language-text"><code>INVALIDATE METADATA;
</code></pre></div></li></ul></li></ol> <h3 id="验证"><a href="#验证" class="header-anchor">$</a> 验证</h3> <p>要验证所有 master 都正常工作，请考虑执行以下健全性检查：</p> <ul><li>使用浏览器，访问每个 master 的 web UI 并导航到 /masters。现在应该列出所有master，其中一个master为leader角色，其他的为follower角色。每个master上的内容应该是一样的。</li> <li>在集群上使用kudu命令行工具运行 Kudu系统检查 (ksck) 。有关更多详细信息，请参阅<a href="https://docs.cloudera.com/documentation/enterprise/6/6.3/topics/kudu_administration_cli.html#ksck" target="_blank" rel="noopener noreferrer">使用 ksck 监控集群运行状况<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul> <h3 id="参考-2"><a href="#参考-2" class="header-anchor">$</a> 参考</h3> <p><a href="https://kudu.apache.org/docs/administration.html#migrate_to_multi_master" target="_blank" rel="noopener noreferrer">Apache: Migrating to Multiple Kudu Masters<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.cloudera.com/documentation/enterprise/6/6.3/topics/kudu_administration_cli.html#migratingToMultipleKuduMasters.d12e306" target="_blank" rel="noopener noreferrer">Cloudera: Migrating to Multiple Kudu Masters<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="kudu-rebalance"><a href="#kudu-rebalance" class="header-anchor">$</a> Kudu Rebalance</h2> <p>参考：</p> <p><a href="https://docs.cloudera.com/runtime/7.2.0/administering-kudu/topics/kudu-monitoring-cluster-health-with-ksck.html" target="_blank" rel="noopener noreferrer">Monitoring cluster health with ksck<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.cloudera.com/runtime/7.2.0/administering-kudu/topics/kudu-running-tablet-rebalancing-tool.html" target="_blank" rel="noopener noreferrer">Running tablet rebalancing tool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.cloudera.com/runtime/7.2.7/kudu-management/topics/kudu-adding-new-tablet-servers.html" target="_blank" rel="noopener noreferrer">Best practices when adding new tablet servers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.cloudera.com/documentation/enterprise/6/6.3/topics/kudu_scaling.html" target="_blank" rel="noopener noreferrer">Kudu Scaling Guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://stackoverflow.com/questions/61103452/migrate-data-away-from-a-kudu-disk" target="_blank" rel="noopener noreferrer">Migrate data away from a kudu disk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://segmentfault.com/a/1190000021635655" target="_blank" rel="noopener noreferrer">kudu表无法正常访问的一种情况<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="kudu数据迁移"><a href="#kudu数据迁移" class="header-anchor">$</a> Kudu数据迁移</h2> <h3 id="table-copy方式"><a href="#table-copy方式" class="header-anchor">$</a> Table copy方式</h3> <p>使用命令行工具<code>kudu table copy</code>：</p> <div class="language- extra-class"><pre class="language-text"><code>kudu table copy &lt;master_addresses&gt; &lt;table_name&gt; &lt;dest_master_addresses&gt; [-nocreate_table] [-dst_table=&lt;table&gt;] [-num_threads=&lt;threads&gt;] [-predicates=&lt;predicates&gt;] [-tablets=&lt;tablets&gt;] [-write_type=&lt;type&gt;] [-negotiation_timeout_ms=&lt;ms&gt;] [-timeout_ms=&lt;ms&gt;]
</code></pre></div><p>报错1：</p> <div class="language- extra-class"><pre class="language-text"><code>Invalid argument: Table partitioning must be specified using add_hash_partitions or set_range_partition_columns
</code></pre></div><p>原因：迁移的表需要设置分区。</p> <p>报错2：</p> <div class="language- extra-class"><pre class="language-text"><code>I0811 19:56:26.095109 16312 table_scanner.cc:429] Table impala:bdg_inf.id_name6 created successfully

T a096989375c54f8fb3fc8b4a9fcb30a8 scanned count 857879 cost 3.41085 seconds
T a6ec6df7fc6b442ea028b3b79e429010 scanned count 855723 cost 3.91296 seconds
I0811 19:56:31.095449 16312 table_scanner.cc:612] Scanned count: 2436702
T af000bf1847d43b5a943d4aa3fd1c541 scanned count 854948 cost 3.16102 seconds
T 4599ec58b78848c7afd5b30cdf821aa1 scanned count 855450 cost 3.49121 seconds
Total count 3424000 cost 7.40447 seconds
W0811 19:56:33.499917 16318 client.cc:1713] Couldn't close scanner 6e89b20d9140457b88fe84f413e3d496: Service unavailable: reactor is shutting down (error 108)
</code></pre></div><p>当前1.9版本未支持，只能作罢。</p> <h3 id="impala-sql方式"><a href="#impala-sql方式" class="header-anchor">$</a> Impala SQL方式</h3> <p>将表T1从C1集群迁移到C2集群，在C2集群创建表T2以及指向C1集群T2表的外表T3，在C2集群执行Impala SQL：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> T2 <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> T3
</code></pre></div><h3 id="kudubackuprestore方式"><a href="#kudubackuprestore方式" class="header-anchor">$</a> KuduBackupRestore方式</h3> <p>备份：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>spark-submit <span class="token parameter variable">--class</span> org.apache.kudu.backup.KuduBackup <span class="token punctuation">\</span>
  <span class="token parameter variable">--master</span> <span class="token function">yarn</span> <span class="token punctuation">\</span>
  --deploy-mode cluster <span class="token punctuation">\</span>
  <span class="token parameter variable">--conf</span> <span class="token assign-left variable">spark.executor.instances</span><span class="token operator">=</span><span class="token number">10</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--conf</span> <span class="token assign-left variable">spark.executor.memory</span><span class="token operator">=</span>5g <span class="token punctuation">\</span>
  kudu-backup2_2.11-1.14.0.jar <span class="token punctuation">\</span>
  <span class="token parameter variable">--kuduMasterAddresses</span> master1-host,master-2-host,master-3-host <span class="token punctuation">\</span>
  <span class="token parameter variable">--rootPath</span> hdfs:///kudu-backups <span class="token punctuation">\</span>
  tab1 tab2
</code></pre></div><p>恢复：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>spark-submit <span class="token parameter variable">--class</span> org.apache.kudu.backup.KuduRestore <span class="token punctuation">\</span>
  <span class="token parameter variable">--master</span> <span class="token function">yarn</span> <span class="token punctuation">\</span>
  --deploy-mode cluster <span class="token punctuation">\</span>
  <span class="token parameter variable">--conf</span> <span class="token assign-left variable">spark.executor.instances</span><span class="token operator">=</span><span class="token number">10</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--conf</span> <span class="token assign-left variable">spark.executor.memory</span><span class="token operator">=</span>5g <span class="token punctuation">\</span>
  kudu-backup2_2.11-1.14.0.jar <span class="token punctuation">\</span>
  <span class="token parameter variable">--kuduMasterAddresses</span> master1-host,master-2-host,master-3-host <span class="token punctuation">\</span>
  <span class="token parameter variable">--rootPath</span> hdfs:///kudu-backups <span class="token punctuation">\</span>
  tab1 tab2
</code></pre></div><h3 id="waterdrop方式"><a href="#waterdrop方式" class="header-anchor">$</a> Waterdrop方式</h3> <p>使用kudu source和kudu sink插件：</p> <div class="language- extra-class"><pre class="language-text"><code>source {
    kudu {
        kudu_master = &quot;${SRC_KUDU_MASTER}&quot;
        kudu_table = &quot;impala::${SRC_TABLE_NAME}&quot;
        result_table_name = &quot;table_tmp&quot;
    }
}
transform {
}
sink {
    kudu {
        kudu_master= &quot;${DST_KUDU_MASTER}&quot;
        kudu_table = &quot;impala::${DST_TABLE_NAME}&quot;
        mode = &quot;upsert&quot;
    }
}
</code></pre></div><h3 id="总结"><a href="#总结" class="header-anchor">$</a> 总结</h3> <table><thead><tr><th>方案</th> <th>配置</th> <th>时间</th></tr></thead> <tbody><tr><td>Waterdrop</td> <td>5G内存 * 10 executor</td> <td>6min</td></tr> <tr><td>Impala</td> <td>128G内存 * 3 Impalad</td> <td>11min</td></tr> <tr><td>KuduBackup</td> <td>5G内存 * 6 executor</td> <td>23min</td></tr> <tr><td>KuduRestore</td> <td>5G内存 * 7 executor</td> <td>12min</td></tr></tbody></table> <h3 id="参考-3"><a href="#参考-3" class="header-anchor">$</a> 参考</h3> <p><a href="https://kudu.apache.org/docs/command_line_tools_reference.html#table-copy" target="_blank" rel="noopener noreferrer">copy: Copy table data to another table<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="kudu-api"><a href="#kudu-api" class="header-anchor">$</a> Kudu API</h2> <p>在这里简要说下三种<code>Kudu</code>提交数据策略的含义：</p> <ul><li><code>AUTO_FLUSH_SYNC</code>：同步刷新模式。调用<code>KuduSession.apply()</code>方法后，客户端会等数据刷新到服务器后再返回，这种情况就不能批量插入数据，调用<code>KuduSession.flush()</code>方法不会起任何作用，因为此时缓冲区数据已经被刷新到了服务器</li> <li><code>AUTO_FLUSH_BACKGROUND</code>：异步刷新模式。调用<code>KuduSession.apply()</code>方法后，客户端会立即返回，但是写入将在后台发送，可能与来自同一会话的其他写入一起进行批处理。如果没有足够的缓冲空间，<code>KuduSession.apply()</code>会阻塞直到缓冲空间可用。因为写入操作是在后台进行的，因此任何错误都将存储在一个会话本地（<code>session-local</code>）缓冲区中，调用<code>countPendingErrors()</code>或者<code>getPendingErrors()</code>可以获取错误相关的信息。注意：这种模式可能会导致数据写入的时候乱序，这是因为在这种模式下，多个写操作可以并行发送到服务器</li> <li><code>MANUAL_FLUSH</code>：手动刷新模式。调用<code>KuduSession.apply()</code>方法后，客户端会立即返回，但是写入请求不会被立即发送，需要我们手动调用<code>KuduSession.flush()</code>来发送写入请求。如果缓冲区超过了配置的大小，会返回错误</li></ul> <p>除刷新方式设置外，还有以下参数会影响客户端的写入行为：</p> <ul><li><code>kudu_mutation_buffer_size</code>：<code>Kudu</code>客户端缓存操作数据的字节数，<code>KuduTableSink</code>中定义的默认值为<code>10MB</code>，该参数通过<code>KuduSession</code>的<code>SetMutationBufferSpace()</code>方法设置。可以在<code>impalad</code>的启动项中自定义<code>kudu_mutation_buffer_size</code>的大小</li> <li><code>kudu_error_buffer_size</code>：<code>KuduSession</code>操作异常的<code>buffer</code>大小，<code>KuduTableSink</code>中定义的默认值为<code>10MB</code>，该参数通过<code>KuduSession</code>的<code>SetErrorBufferSpace()</code>方法设置。可以在<code>impalad</code>的启动项中自定义<code>kudu_error_buffer_size</code>的大小</li> <li>触发<code>flush</code>操作的缓存阈值：仅在<code>AUTO_FLUSH_BACKGROUND</code>刷新模式下生效。<code>KuduTableSink</code>中定义的默认值为<code>70%</code>。当缓存大小达到<code>70%</code>的时候，<code>Kudu</code>客户端开始将缓存的数据发送给相应的<code>tablet</code>服务。<code>Kudu</code>客户端定义的阈值为<code>50%</code>。该阈值通过<code>KuduSession</code>的<code>SetMutationBufferFlushWatermark()</code>方法设置</li> <li>每个<code>KuduSession</code>对象的最大缓存数：<code>KuduTableSink</code>将其设置为<code>0</code>，表示无限制。该参数通过<code>KuduSession</code>的<code>SetMutationBufferMaxNum()</code>方法设置</li></ul> <p>参考</p> <p><a href="https://www.cnblogs.com/harrychinese/p/kudu_java_api.html" target="_blank" rel="noopener noreferrer">kudu系列: Java API使用和效率测试<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.cloudera.com/documentation/enterprise/6/6.3/topics/kudu_impala.html#concept_r3t_vtz_kt__section_sgh_4vz_kt" target="_blank" rel="noopener noreferrer">KUDU高级分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://my.oschina.net/dabird/blog/3190668" target="_blank" rel="noopener noreferrer">一次Impala upsert Kudu执行缓慢问题排查总结<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="kudu原理"><a href="#kudu原理" class="header-anchor">$</a> Kudu原理</h2> <p>参考：</p> <p><a href="http://www.jszja.com/contents/22/2163.html" target="_blank" rel="noopener noreferrer">kudu基础入门-背景介绍,kudu是什么,kudu的应用场景,java代码操作kudu<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://daimajiaoliu.com/daima/4eda1fc5f1003fc" target="_blank" rel="noopener noreferrer">kudu-列式存储管理器-第四篇（原理篇）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://blog.csdn.net/weixin_39478115/article/details/78470294" target="_blank" rel="noopener noreferrer">kudu和hbase的区别和联系<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://blog.csdn.net/weixin_39478115/article/details/79267330" target="_blank" rel="noopener noreferrer">kudu底层存储原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://blog.csdn.net/weixin_39478115/article/details/78470269" target="_blank" rel="noopener noreferrer">kudu读写流程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://big-data.blog.csdn.net/article/details/109014814" target="_blank" rel="noopener noreferrer">KUDU(二)kudu架构设计<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://blog.csdn.net/wwwzydcom/article/details/109039097" target="_blank" rel="noopener noreferrer">KUDU(三)kudu数据读写,更新流程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://big-data.blog.csdn.net/article/details/109063149" target="_blank" rel="noopener noreferrer">KUDU(四)kudu的模式设计<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://big-data.blog.csdn.net/article/details/109152338" target="_blank" rel="noopener noreferrer">KUDU(五)kudu优化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="kudu实践"><a href="#kudu实践" class="header-anchor">$</a> Kudu实践</h2> <h3 id="kudu运行指标"><a href="#kudu运行指标" class="header-anchor">$</a> Kudu运行指标</h3> <p>我司kudu集群的一些运行指标：</p> <table><thead><tr><th>指标</th> <th>值</th> <th>备注</th></tr></thead> <tbody><tr><td>on_disk_size</td> <td>2883144414171B</td> <td>可以用来估算总数据量</td></tr> <tr><td>du tserver:${fs_data_dirs}</td> <td>2883116588K</td> <td></td></tr> <tr><td>du tserver:${fs_wal_dir}</td> <td>344735380K</td> <td></td></tr> <tr><td>磁盘使用率</td> <td>20%,30%</td> <td></td></tr> <tr><td>CPU使用率</td> <td>平均最大30%, 最大平均80%</td> <td></td></tr> <tr><td>内存使用率</td> <td>平均最大5%, 最大平均15%</td> <td></td></tr> <tr><td>网络入口流量</td> <td>低谷60KB/s, 高峰1.5MB/s</td> <td></td></tr> <tr><td>网络出口流量</td> <td>低谷60KB/s, 高峰4.8MB/s</td> <td></td></tr> <tr><td>磁盘读</td> <td>低谷为0KB/s,高峰5MB/s</td> <td></td></tr> <tr><td>磁盘写</td> <td>0.5MB/s</td> <td></td></tr> <tr><td>查询QPS</td> <td></td> <td></td></tr> <tr><td>写入QPS</td> <td></td> <td></td></tr></tbody></table> <p><a href="https://mp.weixin.qq.com/s/Y1_YO44SZbcQEYh1PYMwCA" target="_blank" rel="noopener noreferrer">Kudu架构介绍及其在小米的应用实践<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://mp.weixin.qq.com/s/87Z7iTfat4yEbzzgbX1Xbg" target="_blank" rel="noopener noreferrer">“他们团队都是committer!”—— 小米Kudu开源实践 <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://mp.weixin.qq.com/s/dlh_kbhEWGw0DRK3j5GtNQ" target="_blank" rel="noopener noreferrer">我是如何成为Apache Kudu committer &amp; PMC的？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">8/13/2021, 2:28:26 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bigdata/doris/doris.html" class="prev">
        Doris笔记
      </a></span> <span class="next"><a href="/bigdata/kudu/kudu_paper.html">
        Kudu: Storage for Fast Analytics on Fast Data
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1c8077c0.js" defer></script><script src="/assets/js/2.09d8812d.js" defer></script><script src="/assets/js/71.b6919b00.js" defer></script>
  </body>
</html>
