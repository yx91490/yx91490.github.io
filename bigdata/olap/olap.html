<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OLAP笔记 | yx91490的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-QQHZM2VLM0"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QQHZM2VLM0');</script>
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?6781d2ac2dff1f3b278518419b4d4deb";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <meta name="description" content="java, 大数据(hadoop, sqoop, kylin, zeppelin)相关技术, 工作经验记录">
    <meta name="google-site-verification" content="j1Gm2ZeMV3D7mPiI08fpx91dEOSlhCAJjD4vy_pSroQ">
    <meta name="baidu-site-verification" content="4z2bGbjYMB">
    
    <link rel="preload" href="/assets/css/0.styles.003598ab.css" as="style"><link rel="preload" href="/assets/js/app.c0ff3719.js" as="script"><link rel="preload" href="/assets/js/2.09d8812d.js" as="script"><link rel="preload" href="/assets/js/34.c9b406ce.js" as="script"><link rel="prefetch" href="/assets/js/10.2b8c67c6.js"><link rel="prefetch" href="/assets/js/100.f81c7377.js"><link rel="prefetch" href="/assets/js/101.c22bd5e3.js"><link rel="prefetch" href="/assets/js/102.69bd0d78.js"><link rel="prefetch" href="/assets/js/103.d0821059.js"><link rel="prefetch" href="/assets/js/104.b2696c15.js"><link rel="prefetch" href="/assets/js/105.fb36fb46.js"><link rel="prefetch" href="/assets/js/106.88d6436f.js"><link rel="prefetch" href="/assets/js/107.b9246f72.js"><link rel="prefetch" href="/assets/js/108.589b461e.js"><link rel="prefetch" href="/assets/js/109.d1e3bc25.js"><link rel="prefetch" href="/assets/js/11.84e74a99.js"><link rel="prefetch" href="/assets/js/110.f356fd92.js"><link rel="prefetch" href="/assets/js/111.c6f574e1.js"><link rel="prefetch" href="/assets/js/112.6b7bf1dc.js"><link rel="prefetch" href="/assets/js/113.eef4a9a9.js"><link rel="prefetch" href="/assets/js/114.b34c0c50.js"><link rel="prefetch" href="/assets/js/115.10eb77c0.js"><link rel="prefetch" href="/assets/js/116.545a5808.js"><link rel="prefetch" href="/assets/js/117.f2806905.js"><link rel="prefetch" href="/assets/js/118.ffc4f507.js"><link rel="prefetch" href="/assets/js/119.a3d01942.js"><link rel="prefetch" href="/assets/js/12.b2560a0e.js"><link rel="prefetch" href="/assets/js/120.c754ee6d.js"><link rel="prefetch" href="/assets/js/121.77f097be.js"><link rel="prefetch" href="/assets/js/122.0db684a6.js"><link rel="prefetch" href="/assets/js/123.5f8ace9e.js"><link rel="prefetch" href="/assets/js/124.e47691c2.js"><link rel="prefetch" href="/assets/js/125.4b9948c9.js"><link rel="prefetch" href="/assets/js/126.d8ab7d87.js"><link rel="prefetch" href="/assets/js/127.135070f6.js"><link rel="prefetch" href="/assets/js/128.564b8d71.js"><link rel="prefetch" href="/assets/js/129.6afca56a.js"><link rel="prefetch" href="/assets/js/13.bfd0df34.js"><link rel="prefetch" href="/assets/js/130.fe579d47.js"><link rel="prefetch" href="/assets/js/131.e24150a0.js"><link rel="prefetch" href="/assets/js/132.578be1aa.js"><link rel="prefetch" href="/assets/js/133.24c01a95.js"><link rel="prefetch" href="/assets/js/134.890a0149.js"><link rel="prefetch" href="/assets/js/135.d32b602f.js"><link rel="prefetch" href="/assets/js/136.f6f194bd.js"><link rel="prefetch" href="/assets/js/137.bb61cfce.js"><link rel="prefetch" href="/assets/js/138.1f3a8e4f.js"><link rel="prefetch" href="/assets/js/139.c8650aaf.js"><link rel="prefetch" href="/assets/js/14.a3d22f43.js"><link rel="prefetch" href="/assets/js/140.d7e37de8.js"><link rel="prefetch" href="/assets/js/141.e0d9791a.js"><link rel="prefetch" href="/assets/js/142.57c7a41a.js"><link rel="prefetch" href="/assets/js/143.202e512d.js"><link rel="prefetch" href="/assets/js/144.1437bbcf.js"><link rel="prefetch" href="/assets/js/145.74abc5f5.js"><link rel="prefetch" href="/assets/js/146.d840bf8a.js"><link rel="prefetch" href="/assets/js/147.d431008a.js"><link rel="prefetch" href="/assets/js/148.0c1a51c7.js"><link rel="prefetch" href="/assets/js/149.41b5db4c.js"><link rel="prefetch" href="/assets/js/15.88324fac.js"><link rel="prefetch" href="/assets/js/150.b88c15b2.js"><link rel="prefetch" href="/assets/js/151.0f730796.js"><link rel="prefetch" href="/assets/js/152.cfb467ab.js"><link rel="prefetch" href="/assets/js/153.87009079.js"><link rel="prefetch" href="/assets/js/154.a9ac702c.js"><link rel="prefetch" href="/assets/js/155.e0fe2c4b.js"><link rel="prefetch" href="/assets/js/156.64f63a3c.js"><link rel="prefetch" href="/assets/js/157.4b583116.js"><link rel="prefetch" href="/assets/js/158.6fd7d07c.js"><link rel="prefetch" href="/assets/js/159.10269bcf.js"><link rel="prefetch" href="/assets/js/16.60745381.js"><link rel="prefetch" href="/assets/js/160.bf510d12.js"><link rel="prefetch" href="/assets/js/161.2a2051b7.js"><link rel="prefetch" href="/assets/js/162.377b1f39.js"><link rel="prefetch" href="/assets/js/163.47bae087.js"><link rel="prefetch" href="/assets/js/164.6dafe90c.js"><link rel="prefetch" href="/assets/js/165.820ff007.js"><link rel="prefetch" href="/assets/js/166.4e456923.js"><link rel="prefetch" href="/assets/js/167.57508b1a.js"><link rel="prefetch" href="/assets/js/168.2601d5f0.js"><link rel="prefetch" href="/assets/js/169.ac5e7efc.js"><link rel="prefetch" href="/assets/js/17.4b62e29e.js"><link rel="prefetch" href="/assets/js/170.80408de1.js"><link rel="prefetch" href="/assets/js/171.6bb0c1cf.js"><link rel="prefetch" href="/assets/js/172.6f71aeeb.js"><link rel="prefetch" href="/assets/js/173.7ec0ffe7.js"><link rel="prefetch" href="/assets/js/174.687465dd.js"><link rel="prefetch" href="/assets/js/175.7d1f6116.js"><link rel="prefetch" href="/assets/js/176.b854f5c7.js"><link rel="prefetch" href="/assets/js/177.fd80cf13.js"><link rel="prefetch" href="/assets/js/178.e9e09ff3.js"><link rel="prefetch" href="/assets/js/179.24bed42f.js"><link rel="prefetch" href="/assets/js/18.700a645f.js"><link rel="prefetch" href="/assets/js/180.24aeea08.js"><link rel="prefetch" href="/assets/js/181.e2545e9d.js"><link rel="prefetch" href="/assets/js/182.9932a53d.js"><link rel="prefetch" href="/assets/js/183.5c65d51e.js"><link rel="prefetch" href="/assets/js/184.602e578e.js"><link rel="prefetch" href="/assets/js/185.d8549706.js"><link rel="prefetch" href="/assets/js/186.e2ec1c8d.js"><link rel="prefetch" href="/assets/js/187.0e98dfd8.js"><link rel="prefetch" href="/assets/js/188.1303515f.js"><link rel="prefetch" href="/assets/js/189.649a2efe.js"><link rel="prefetch" href="/assets/js/19.69d27794.js"><link rel="prefetch" href="/assets/js/190.3ba381cc.js"><link rel="prefetch" href="/assets/js/191.0f1f5390.js"><link rel="prefetch" href="/assets/js/192.12ec811d.js"><link rel="prefetch" href="/assets/js/193.c83e236a.js"><link rel="prefetch" href="/assets/js/194.280bfbe0.js"><link rel="prefetch" href="/assets/js/195.c5d0ceb9.js"><link rel="prefetch" href="/assets/js/196.a24e605d.js"><link rel="prefetch" href="/assets/js/197.eee89628.js"><link rel="prefetch" href="/assets/js/198.201b0a74.js"><link rel="prefetch" href="/assets/js/199.a12cb1e8.js"><link rel="prefetch" href="/assets/js/20.a4d8a837.js"><link rel="prefetch" href="/assets/js/200.e4ee5ee1.js"><link rel="prefetch" href="/assets/js/201.649bd3e5.js"><link rel="prefetch" href="/assets/js/202.00e008e7.js"><link rel="prefetch" href="/assets/js/203.ec9cbded.js"><link rel="prefetch" href="/assets/js/21.0da34766.js"><link rel="prefetch" href="/assets/js/22.62830d86.js"><link rel="prefetch" href="/assets/js/23.aec7e760.js"><link rel="prefetch" href="/assets/js/24.a39131ea.js"><link rel="prefetch" href="/assets/js/25.57991dc7.js"><link rel="prefetch" href="/assets/js/26.666f3888.js"><link rel="prefetch" href="/assets/js/27.d90edddc.js"><link rel="prefetch" href="/assets/js/28.5ef3dc09.js"><link rel="prefetch" href="/assets/js/29.c0e67596.js"><link rel="prefetch" href="/assets/js/3.5291bd6f.js"><link rel="prefetch" href="/assets/js/30.b95b5f96.js"><link rel="prefetch" href="/assets/js/31.6045c77c.js"><link rel="prefetch" href="/assets/js/32.06a13a4f.js"><link rel="prefetch" href="/assets/js/33.6d5117ee.js"><link rel="prefetch" href="/assets/js/35.c6ae3eb4.js"><link rel="prefetch" href="/assets/js/36.456a19cc.js"><link rel="prefetch" href="/assets/js/37.96e5f639.js"><link rel="prefetch" href="/assets/js/38.b5c7001a.js"><link rel="prefetch" href="/assets/js/39.f6a644fd.js"><link rel="prefetch" href="/assets/js/4.a2e3361c.js"><link rel="prefetch" href="/assets/js/40.58604bc4.js"><link rel="prefetch" href="/assets/js/41.04058a4b.js"><link rel="prefetch" href="/assets/js/42.a7626213.js"><link rel="prefetch" href="/assets/js/43.8da0cb4a.js"><link rel="prefetch" href="/assets/js/44.11fd3c9b.js"><link rel="prefetch" href="/assets/js/45.94705128.js"><link rel="prefetch" href="/assets/js/46.74ddaa0b.js"><link rel="prefetch" href="/assets/js/47.40ade509.js"><link rel="prefetch" href="/assets/js/48.294976fa.js"><link rel="prefetch" href="/assets/js/49.7d12c47b.js"><link rel="prefetch" href="/assets/js/5.e9e877ad.js"><link rel="prefetch" href="/assets/js/50.5c56bc06.js"><link rel="prefetch" href="/assets/js/51.4227b90f.js"><link rel="prefetch" href="/assets/js/52.ad6f5e02.js"><link rel="prefetch" href="/assets/js/53.17fcea84.js"><link rel="prefetch" href="/assets/js/54.49079eb0.js"><link rel="prefetch" href="/assets/js/55.f6dc42d1.js"><link rel="prefetch" href="/assets/js/56.b83686c4.js"><link rel="prefetch" href="/assets/js/57.b9a32559.js"><link rel="prefetch" href="/assets/js/58.130e0d1f.js"><link rel="prefetch" href="/assets/js/59.4dd31af5.js"><link rel="prefetch" href="/assets/js/6.7119b476.js"><link rel="prefetch" href="/assets/js/60.6b26d636.js"><link rel="prefetch" href="/assets/js/61.4f3cd5b1.js"><link rel="prefetch" href="/assets/js/62.bbe1b100.js"><link rel="prefetch" href="/assets/js/63.03e1ffd2.js"><link rel="prefetch" href="/assets/js/64.36883580.js"><link rel="prefetch" href="/assets/js/65.25c8d7c2.js"><link rel="prefetch" href="/assets/js/66.1bc14ae7.js"><link rel="prefetch" href="/assets/js/67.aa73f9af.js"><link rel="prefetch" href="/assets/js/68.58fb370f.js"><link rel="prefetch" href="/assets/js/69.1ad9aa99.js"><link rel="prefetch" href="/assets/js/7.560b1069.js"><link rel="prefetch" href="/assets/js/70.2dd1cc71.js"><link rel="prefetch" href="/assets/js/71.299cf2b2.js"><link rel="prefetch" href="/assets/js/72.42b16660.js"><link rel="prefetch" href="/assets/js/73.810bba7f.js"><link rel="prefetch" href="/assets/js/74.46ea4cc8.js"><link rel="prefetch" href="/assets/js/75.50003a99.js"><link rel="prefetch" href="/assets/js/76.23da54d2.js"><link rel="prefetch" href="/assets/js/77.e1e134d9.js"><link rel="prefetch" href="/assets/js/78.cbf86372.js"><link rel="prefetch" href="/assets/js/79.ca22b8c1.js"><link rel="prefetch" href="/assets/js/8.e9216d19.js"><link rel="prefetch" href="/assets/js/80.865c312a.js"><link rel="prefetch" href="/assets/js/81.2f299abd.js"><link rel="prefetch" href="/assets/js/82.b3de1040.js"><link rel="prefetch" href="/assets/js/83.e4827f08.js"><link rel="prefetch" href="/assets/js/84.009cf84b.js"><link rel="prefetch" href="/assets/js/85.27e8651c.js"><link rel="prefetch" href="/assets/js/86.56b9dea1.js"><link rel="prefetch" href="/assets/js/87.5671c8c2.js"><link rel="prefetch" href="/assets/js/88.48014911.js"><link rel="prefetch" href="/assets/js/89.72770fc6.js"><link rel="prefetch" href="/assets/js/9.f19ed262.js"><link rel="prefetch" href="/assets/js/90.11ec3a9f.js"><link rel="prefetch" href="/assets/js/91.5249ea22.js"><link rel="prefetch" href="/assets/js/92.bf7f8cf4.js"><link rel="prefetch" href="/assets/js/93.db0d8177.js"><link rel="prefetch" href="/assets/js/94.7135cc0d.js"><link rel="prefetch" href="/assets/js/95.bf1893c1.js"><link rel="prefetch" href="/assets/js/96.752a626f.js"><link rel="prefetch" href="/assets/js/97.038eb2a5.js"><link rel="prefetch" href="/assets/js/98.673f9a86.js"><link rel="prefetch" href="/assets/js/99.5b31447d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.003598ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">yx91490的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java/" class="nav-link">
  Java开发
</a></div><div class="nav-item"><a href="/bigdata/" class="nav-link router-link-active">
  大数据
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="contactMe" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="contactMe" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sql/" class="nav-link">
  SQL
</a></li><li class="dropdown-item"><!----> <a href="/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/clang/" class="nav-link">
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/diagram/" class="nav-link">
  图示速查
</a></li><li class="dropdown-item"><!----> <a href="/collection/" class="nav-link">
  资料收藏
</a></li><li class="dropdown-item"><!----> <a href="/cs/" class="nav-link">
  计算机科学
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/yx91490" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/yx91490/yx91490.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  给我留言
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java/" class="nav-link">
  Java开发
</a></div><div class="nav-item"><a href="/bigdata/" class="nav-link router-link-active">
  大数据
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="contactMe" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="contactMe" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sql/" class="nav-link">
  SQL
</a></li><li class="dropdown-item"><!----> <a href="/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/clang/" class="nav-link">
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/diagram/" class="nav-link">
  图示速查
</a></li><li class="dropdown-item"><!----> <a href="/collection/" class="nav-link">
  资料收藏
</a></li><li class="dropdown-item"><!----> <a href="/cs/" class="nav-link">
  计算机科学
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/yx91490" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/yx91490/yx91490.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  给我留言
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Zeppelin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/zeppelin/heart_diease_dataset.html" class="sidebar-link">心脏病预测数据</a></li><li><a href="/bigdata/zeppelin/zeppelin_bugs.html" class="sidebar-link">zeppelin使用趟坑</a></li><li><a href="/bigdata/zeppelin/zeppelin_sharding.html" class="sidebar-link">Zeppelin v0.8分片方案</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Waterdrop</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/waterdrop/waterdrop.html" class="sidebar-link">Waterdrop学习笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Kylin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/kylin/awesome_kylin.html" class="sidebar-link">Kylin学习资料汇总</a></li><li><a href="/bigdata/kylin/read_kylin_source.html" class="sidebar-link">阅读Kylin源码</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Sqoop</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/sqoop/sqoop_usage.html" class="sidebar-link">代码调试</a></li><li><a href="/bigdata/sqoop/sqoop_hcatalog.html" class="sidebar-link">sqoopHCatalog使用</a></li><li><a href="/bigdata/sqoop/sqoop_mysql_temp_file.html" class="sidebar-link">sqoop导入导致MySQL产生大临时文件问题排查</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ZooKeeper</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/zookeeper/zookeeper.html" class="sidebar-link">ZooKeeper笔记</a></li><li><a href="/bigdata/zookeeper/zookeeper_user.html" class="sidebar-link">ZooKeeper管理员指南</a></li><li><a href="/bigdata/zookeeper/zk_distribute_lock.html" class="sidebar-link">zookeeper实现分布式锁</a></li><li><a href="/bigdata/zookeeper/isbn9787111524311_note.html" class="sidebar-link">《ZooKeeper分布式过程协同技术详解》笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Hadoop</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/hadoop/hadoop_interview.html" class="sidebar-link">Hadoop面试题</a></li><li><a href="/bigdata/hadoop/port.html" class="sidebar-link">Hadoop默认端口</a></li><li><a href="/bigdata/hadoop/hdfs_user.html" class="sidebar-link">HDFS命令笔记</a></li><li><a href="/bigdata/hadoop/hdfs_issue.html" class="sidebar-link">HDFS Issue</a></li><li><a href="/bigdata/hadoop/distcp.html" class="sidebar-link">Distcp命令</a></li><li><a href="/bigdata/hadoop/columnar_storage_parquet_orc.html" class="sidebar-link">列式存储（parquet,orc）</a></li><li><a href="/bigdata/hadoop/avro_specification_1.8.1.html" class="sidebar-link">avro格式规范1.8.1翻译</a></li><li><a href="/bigdata/hadoop/yarn.html" class="sidebar-link">Yarn</a></li><li><a href="/bigdata/hadoop/yarn_cli.html" class="sidebar-link">Yarn Cli命令</a></li><li><a href="/bigdata/hadoop/mapreduce.html" class="sidebar-link">MapReduce</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Hive</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/hive/hive_cli.html" class="sidebar-link">Beeline命令行</a></li><li><a href="/bigdata/hive/hive_src.html" class="sidebar-link">Hive源码分析</a></li><li><a href="/bigdata/hive/hive_ql.html" class="sidebar-link">HiveQL</a></li><li><a href="/bigdata/hive/hive_data_type.html" class="sidebar-link">Hive数据类型</a></li><li><a href="/bigdata/hive/hive_bucket.html" class="sidebar-link">Hive分桶</a></li><li><a href="/bigdata/hive/hive_principle.html" class="sidebar-link">Hive原理</a></li><li><a href="/bigdata/hive/hive_optimize.html" class="sidebar-link">Hive优化</a></li><li><a href="/bigdata/hive/hive_parse_json.html" class="sidebar-link">Hive解析json数组</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>OLAP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/olap/olap.html" aria-current="page" class="active sidebar-link">OLAP笔记</a></li><li><a href="/bigdata/olap/data_analyze.html" class="sidebar-link">数据分析笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ClickHouse</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/clickhouse/clickhouse.html" class="sidebar-link">ClickHouse学习笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Doris</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/doris/doris.html" class="sidebar-link">Doris笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Kudu</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/kudu/kudu.html" class="sidebar-link">Kudu</a></li><li><a href="/bigdata/kudu/kudu_paper.html" class="sidebar-link">Kudu: Storage for Fast Analytics on Fast Data</a></li><li><a href="/bigdata/kudu/kudu_paper_translation.html" class="sidebar-link">【译】Kudu论文</a></li><li><a href="/bigdata/kudu/kudu_note.html" class="sidebar-link">Kudu笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Impala</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/impala/cup.html" class="sidebar-link">CUP学习笔记</a></li><li><a href="/bigdata/impala/impala.html" class="sidebar-link">Impala</a></li><li><a href="/bigdata/impala/impala_admin.html" class="sidebar-link">Impala运维</a></li><li><a href="/bigdata/impala/impala_dev.html" class="sidebar-link">Impala开发笔记</a></li><li><a href="/bigdata/impala/impala_community.html" class="sidebar-link">Impala社区</a></li><li><a href="/bigdata/impala/impala_issues.html" class="sidebar-link">Impala问题记录</a></li><li><a href="/bigdata/impala/impala_paper_translation.html" class="sidebar-link">【转】【译】Impala：Hadoop上的一个现代开源SQL引擎</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Spark</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/spark/spark.html" class="sidebar-link">Spark</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HBase</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/hbase/hbase_interview.html" class="sidebar-link">HBase</a></li><li><a href="/bigdata/hbase/hbase_user.html" class="sidebar-link">HBase使用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata/note/oss_note.html" class="sidebar-link">《快手短视频打造高稳定千亿级别对象存储平台》笔记</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="olap笔记"><a href="#olap笔记" class="header-anchor">$</a> OLAP笔记</h1> <h2 id="olap引擎对比"><a href="#olap引擎对比" class="header-anchor">$</a> OLAP引擎对比</h2> <p>大数据技术发展到2021年，底层的存储、计算、调度引擎似乎都已经形成了事实上的标准，但是OLAP领域却一直百花齐放，没有出现一种统一的OLAP引擎，究其原因是没有一种引擎都能适用于各种场景，或多或少都存在这样那样的不足。现就工作中接触到的OLAP引擎做一个总结对比。</p> <h3 id="kudu-impala"><a href="#kudu-impala" class="header-anchor">$</a> Kudu+Impala</h3> <p>Kudu+Impala在我司是最主要的OLAP引擎，因为我司的业务大量场景的数据是实时更新的业务数据，业务方对数据时效性要求较高（分钟级），Kudu支持实时的upsert操作，在没有引入数据湖技术之前Kudu是为数不多的解决方案。</p> <p>当然在实际的项目使用中还是做了一些妥协，比如impala本身没有缓存，为了避免高并发对impala资源的消耗，将impala聚合后的数据导出到MySQL，应用连接MySQL进行查询。另一方面我们有的SQL比较重，涉及到多张大表join之后做聚合计算，执行时间长，运行不是很稳定，这样也能提供一定的缓冲。这种用法会导致数据的时效性在10min这个量级，但是大部分的业务是可以接受的。</p> <p>这个组合还有一些缺陷比如Kudu启动时间过长，Impala查询经常遇到单节点内存不足的报错，遇到节点挂掉查询直接失败，依赖组件太多等等。</p> <h3 id="clickhouse"><a href="#clickhouse" class="header-anchor">$</a> ClickHouse</h3> <p>ClickHouse主要用来做多维数据分析，依赖于超高的查询性能，很多业务要求查询响应必须是秒级以内。配合chproxy代理，能够做到查询的缓存，而且批量写入性能能够媲美HBase，甚至可以当作时序数据库来用。据说京东的ClickHouse大表数据量可以达到百亿级别。而ClickHouse的问题是不支持数据更新，join支持的不好，运维成本比较高。</p> <h3 id="kylin"><a href="#kylin" class="header-anchor">$</a> Kylin</h3> <p>Kylin支持了一些固定维度查询的报表业务，它在响应速度，查询并发，SQL能力，精确去重等方面令人印象深刻，但是预计算的思想导致数据变更的成本很高，同时依赖的组件也很多。</p> <h3 id="doris"><a href="#doris" class="header-anchor">$</a> Doris</h3> <p>由于数据模型比较丰富，Doris是相对来说适用场景最广的一个引擎，我司也打算用Doris来统一Kudu，ClickHouse，Kylin各种引擎。在满足功能和性能需求的前提下，可以预见的优点是运维成本极低。Doris目前存在的一个短板就是资源隔离能力不够，如果想要保证重要业务稳定性，Doris核心开发者建议还是做集群层面的物理资源隔离。</p> <p>Doris使用上需要注意的一点是写入的频率最好控制在分钟级，单表数据量控制在10亿以内。</p> <h3 id="总结"><a href="#总结" class="header-anchor">$</a> 总结</h3> <p>各个引擎详细对比如下：</p> <table><tr><td rowspan="2">引擎</td> <td colspan="3">写入</td> <td colspan="5">查询</td> <td colspan="2">运维</td> <td rowspan="2">适用场景</td></tr> <tr><td>点更新</td> <td>时效性</td> <td>预聚合</td> <td>权限</td> <td>Join</td> <td>精确去重</td> <td>视图</td> <td>并发</td> <td>运维难度</td> <td>复杂度</td></tr> <tr><td>Kudu+Impala</td> <td>✔</td> <td>秒级</td> <td>✖</td> <td>列级</td> <td>✔</td> <td>✔</td> <td>✔</td> <td>中</td> <td>中</td> <td>高（依赖Hive,Sentry,zk...）</td> <td>实时olap</td></tr> <tr><td>ClickHouse</td> <td>✖</td> <td>秒级</td> <td>✔</td> <td>无</td> <td>✖</td> <td>✔（bitmap）</td> <td>✔</td> <td>低</td> <td>高</td> <td>高（依赖zk）</td> <td>单表，日志分析</td></tr> <tr><td>Kylin</td> <td>✖</td> <td>小时级</td> <td>✔</td> <td>库级</td> <td>✔</td> <td>✔（bitmap）</td> <td>✖</td> <td>高</td> <td>中</td> <td>高（依赖HBase，Hive, HDFS）</td> <td>固定维度预计算</td></tr> <tr><td>Doris</td> <td>✔</td> <td>分钟级</td> <td>✔</td> <td>表级</td> <td>✔</td> <td>✔（bitmap）</td> <td>✔</td> <td>高</td> <td>低</td> <td>低</td> <td>实时olap</td></tr> <tr><td>Presto</td> <td>✖</td> <td>小时级</td> <td>✖</td> <td>无</td> <td>✔</td> <td>✔</td> <td>✖</td> <td>中</td> <td>低</td> <td>低</td> <td>Hive查询加速，多数据源</td></tr></table> <h2 id="olap选型"><a href="#olap选型" class="header-anchor">$</a> OLAP选型</h2> <p>结合OLAP引擎各自的优缺点，在我司应用的时候选型方案如下：</p> <ol><li>数据量在百万以下的时候用MySQL能扛得住，而且稳定性更高，简单易用</li> <li>数据量比较大，并发低，时效性在小时级，查询明细的场景适合用ClickHouse，这种场景即时数据有更新也能应对</li> <li>数据量比较大，天级或者小时级更新，只有聚合查询的场景适合用Kylin</li> <li>数据量比较大，并发低，时效性要求分钟级，数据只有追加，适合用ClickHouse</li> <li>数据量比较大，时效性要求分钟级，数据有更新，这种场景只能用kudu或者doris了</li></ol> <p>需要说明的是，往下的场景也能覆盖往上的场景。</p> <table><thead><tr><th style="text-align:left;">数据量</th> <th style="text-align:left;">时效性</th> <th style="text-align:left;">查询类型</th> <th style="text-align:left;">更新类型</th> <th style="text-align:left;">并发</th> <th style="text-align:left;">引擎</th></tr></thead> <tbody><tr><td style="text-align:left;">百万及以下</td> <td style="text-align:left;">*</td> <td style="text-align:left;">*</td> <td style="text-align:left;">*</td> <td style="text-align:left;">*</td> <td style="text-align:left;">MySQL</td></tr> <tr><td style="text-align:left;">千万及以上</td> <td style="text-align:left;">天级、小时级</td> <td style="text-align:left;">明细</td> <td style="text-align:left;">*</td> <td style="text-align:left;">?</td> <td style="text-align:left;">ClickHouse</td></tr> <tr><td style="text-align:left;">千万及以上</td> <td style="text-align:left;">天级、小时级</td> <td style="text-align:left;">聚合</td> <td style="text-align:left;">*</td> <td style="text-align:left;">*</td> <td style="text-align:left;">Kylin</td></tr> <tr><td style="text-align:left;">千万及以上</td> <td style="text-align:left;">分钟级</td> <td style="text-align:left;">*</td> <td style="text-align:left;">追加</td> <td style="text-align:left;">?</td> <td style="text-align:left;">ClickHouse</td></tr> <tr><td style="text-align:left;">千万及以上</td> <td style="text-align:left;">分钟级</td> <td style="text-align:left;">*</td> <td style="text-align:left;">更新</td> <td style="text-align:left;">*</td> <td style="text-align:left;">Kudu|doris</td></tr></tbody></table> <h2 id="olap引擎使用规范"><a href="#olap引擎使用规范" class="header-anchor">$</a> OLAP引擎使用规范</h2> <ul><li><p>实时性不高的场景尽量使用Hive或者Spark</p></li> <li><p>数据批量写入而不是单条写入</p></li> <li><p>控制写入频率</p></li> <li><p>禁止大批量数据导出到离线数仓，容易影响集群稳定性</p></li> <li><p>OLAP引擎里做ETL任务要慎重，容易影响集群稳定性</p></li> <li><p>禁止本地直连生产环境进行调试</p></li></ul> <h2 id="olap计算模型"><a href="#olap计算模型" class="header-anchor">$</a> OLAP计算模型</h2> <img src="/assets/img/image-20210905201219266.4c96c32b.png" alt="image-20210905201219266" style="zoom:67%;"> <table><thead><tr><th>计算模型</th> <th>说明</th> <th>优点</th> <th>缺点</th></tr></thead> <tbody><tr><td>Scatter-Gather</td> <td>相当于MapReduce中的一趟Map和Reduce，中间计算结果往往存储在内存中，通过网络直接交换。没有shuffle过程</td> <td></td> <td>无法完成大表Join，高基数聚合</td></tr> <tr><td>MapReduce</td> <td>任务之间需要等待，中间数据落盘，多轮迭代</td> <td>失败任务可以重试，适合大数据量ETL操作</td> <td>慢</td></tr> <tr><td>MPP</td> <td>流水线执行，数据内存传输</td> <td></td> <td>失败任务不可以重试</td></tr></tbody></table> <h3 id="参考"><a href="#参考" class="header-anchor">$</a> 参考</h3> <p><a href="https://zhuanlan.zhihu.com/p/266402829" target="_blank" rel="noopener noreferrer">第1章04节 | 常见开源OLAP技术架构对比<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="案例实践"><a href="#案例实践" class="header-anchor">$</a> 案例实践</h2> <h3 id="有序漏斗-留存分析"><a href="#有序漏斗-留存分析" class="header-anchor">$</a> 有序漏斗/留存分析</h3> <p>Apache Kylin中使用<code>intersect_count()</code>进行计算，参考：</p> <p><a href="https://issues.apache.org/jira/browse/KYLIN-2088" target="_blank" rel="noopener noreferrer">KYLIN-2088<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="http://kylin.apache.org/blog/2016/11/28/intersect-count/" target="_blank" rel="noopener noreferrer">Retention Or Conversion Rate Analyze in Apache Kylin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://uzshare.com/view/790704" target="_blank" rel="noopener noreferrer">用 Apache Kylin 做精准留存分析，对刷量 say『 No』！<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">9/6/2021, 1:41:15 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bigdata/hive/hive_parse_json.html" class="prev">
        Hive解析json数组
      </a></span> <span class="next"><a href="/bigdata/olap/data_analyze.html">
        数据分析笔记
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c0ff3719.js" defer></script><script src="/assets/js/2.09d8812d.js" defer></script><script src="/assets/js/34.c9b406ce.js" defer></script>
  </body>
</html>
